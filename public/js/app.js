/*! For license information please see app.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jQuery"));else if("function"==typeof define&&define.amd)define(["jQuery"],e);else{var n="object"==typeof exports?e(require("jQuery")):e(t.jQuery);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(t){return function(){var e={86606:function(t){var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=256,o=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var r=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=this._encodeByte(r>>>6&63),e+=this._encodeByte(r>>>0&63)}var i=t.length-n;return i>0&&(r=t[n]<<16|(2===i?t[n+1]<<8:0),e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""),e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),n=t.length-e,r=new Uint8Array(this.maxDecodedLength(n)),i=0,o=0,a=0,l=0,c=0,u=0,h=0;o<n-4;o+=4)l=this._decodeChar(t.charCodeAt(o+0)),c=this._decodeChar(t.charCodeAt(o+1)),u=this._decodeChar(t.charCodeAt(o+2)),h=this._decodeChar(t.charCodeAt(o+3)),r[i++]=l<<2|c>>>4,r[i++]=c<<4|u>>>2,r[i++]=u<<6|h,a|=l&s,a|=c&s,a|=u&s,a|=h&s;if(o<n-1&&(l=this._decodeChar(t.charCodeAt(o)),c=this._decodeChar(t.charCodeAt(o+1)),r[i++]=l<<2|c>>>4,a|=l&s,a|=c&s),o<n-2&&(u=this._decodeChar(t.charCodeAt(o+2)),r[i++]=c<<4|u>>>2,a|=u&s),o<n-3&&(h=this._decodeChar(t.charCodeAt(o+3)),r[i++]=u<<6|h,a|=h&s),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return r},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=s;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=o;var a=new o;e.encode=function(t){return a.encode(t)},e.decode=function(t){return a.decode(t)};var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=s;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(o);e.URLSafeCoder=l;var c=new l;e.encodeURLSafe=function(t){return c.encode(t)},e.decodeURLSafe=function(t){return c.decode(t)},e.encodedLength=function(t){return a.encodedLength(t)},e.maxDecodedLength=function(t){return a.maxDecodedLength(t)},e.decodedLength=function(t){return a.decodedLength(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function s(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)e+=1;else if(i<2048)e+=2;else if(i<55296)e+=3;else{if(!(i<=57343))throw new Error(r);if(n>=t.length-1)throw new Error(r);n++,e+=4}}return e}e.encode=function(t){for(var e=new Uint8Array(s(t)),n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=192|i>>6,e[n++]=128|63&i):i<55296?(e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i):(r++,i=(1023&i)<<10,i|=1023&t.charCodeAt(r),i+=65536,e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i)}return e},e.encodedLength=s,e.decode=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(128&r){var s=void 0;if(r<224){if(n>=t.length)throw new Error(i);if(128!=(192&(o=t[++n])))throw new Error(i);r=(31&r)<<6|63&o,s=128}else if(r<240){if(n>=t.length-1)throw new Error(i);var o=t[++n],a=t[++n];if(128!=(192&o)||128!=(192&a))throw new Error(i);r=(15&r)<<12|(63&o)<<6|63&a,s=2048}else{if(!(r<248))throw new Error(i);if(n>=t.length-2)throw new Error(i);o=t[++n],a=t[++n];var l=t[++n];if(128!=(192&o)||128!=(192&a)||128!=(192&l))throw new Error(i);r=(15&r)<<18|(63&o)<<12|(63&a)<<6|63&l,s=65536}if(r<s||r>=55296&&r<=57343)throw new Error(i);if(r>=65536){if(r>1114111)throw new Error(i);r-=65536,e.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}e.push(String.fromCharCode(r))}return e.join("")}},function(t,e,n){t.exports=n(3).default},function(t,e,n){"use strict";n.r(e);class r{constructor(t,e){this.lastId=0,this.prefix=t,this.name=e}create(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,s=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=s,{number:e,id:n,name:r,callback:s}}remove(t){delete this[t.number]}}var i=new r("_pusher_script_","Pusher.ScriptReceivers"),s={VERSION:"8.4.0-rc2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},o=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),a=new class{constructor(t){this.options=t,this.receivers=t.receivers||i,this.loading={}}load(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=ue.createScriptRequest(r.getPath(t,e)),s=r.receivers.create((function(e){if(r.receivers.remove(s),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var o=function(t){t||i.cleanup()},a=0;a<n.length;a++)n[a](e,o)}}));i.send(s)}}getRoot(t){var e=ue.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"}}({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:o});const l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var c,u=function(t){const e=l.urls[t];if(!e)return"";let n;return e.fullUrl?n=e.fullUrl:e.path&&(n=l.baseUrl+e.path),n?`See: ${n}`:""};!function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"}(c||(c={}));class h extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class d extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class p extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(t,e){super(e),this.status=t,Object.setPrototypeOf(this,new.target.prototype)}}for(var S=function(t,e,n,r,i){const s=ue.createXHR();for(var o in s.open("POST",n.endpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)s.setRequestHeader(o,n.headers[o]);if(null!=n.headersProvider){let t=n.headersProvider();for(var o in t)s.setRequestHeader(o,t[o])}return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){let t,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){i(new y(200,`JSON returned from ${r.toString()} endpoint was invalid, yet status code was 200. Data was: ${s.responseText}`),null)}e&&i(null,t)}else{let t="";switch(r){case c.UserAuthentication:t=u("authenticationEndpoint");break;case c.ChannelAuthorization:t=`Clients must be authorized to join private or presence channels. ${u("authorizationEndpoint")}`}i(new y(s.status,`Unable to retrieve auth string from ${r.toString()} endpoint - received status: ${s.status} from ${n.endpoint}. ${t}`),null)}},s.send(e),s},w=String.fromCharCode,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C={},T=0;T<64;T++)C[_.charAt(T)]=T;var D=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?w(192|e>>>6)+w(128|63&e):w(224|e>>>12&15)+w(128|e>>>6&63)+w(128|63&e)},x=function(t){return t.replace(/[^\x00-\x7F]/g,D)},k=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[_.charAt(n>>>18),_.charAt(n>>>12&63),e>=2?"=":_.charAt(n>>>6&63),e>=1?"=":_.charAt(63&n)].join("")},A=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,k)},P=class{constructor(t,e,n,r){this.clear=e,this.timer=t((()=>{this.timer&&(this.timer=r(this.timer))}),n)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function I(t){window.clearTimeout(t)}function L(t){window.clearInterval(t)}class R extends P{constructor(t,e){super(setTimeout,I,t,(function(t){return e(),null}))}}class O extends P{constructor(t,e){super(setInterval,L,t,(function(t){return e(),t}))}}var j={now(){return Date.now?Date.now():(new Date).valueOf()},defer(t){return new R(0,t)},method(t,...e){var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}},E=j;function F(t,...e){for(var n=0;n<e.length;n++){var r=e[n];for(var i in r)r[i]&&r[i].constructor&&r[i].constructor===Object?t[i]=F(t[i]||{},r[i]):t[i]=r[i]}return t}function N(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push($(arguments[e]));return t.join(" : ")}function H(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function M(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function U(t){var e=[];return M(t,(function(t,n){e.push(n)})),e}function B(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function q(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function W(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function z(t,e){var n={};return M(t,(function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)})),n}function X(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function J(t){return e=function(t){return"object"==typeof t&&(t=$(t)),encodeURIComponent((e=t.toString(),A(x(e))));var e},n={},M(t,(function(t,r){n[r]=e(t)})),n;var e,n}function V(t){var e,n,r=z(t,(function(t){return void 0!==t}));return q((e=J(r),n=[],M(e,(function(t,e){n.push([e,t])})),n),E.method("join","=")).join("&")}function $(t){try{return JSON.stringify(t)}catch(r){return JSON.stringify((e=[],n=[],function t(r,i){var s,o,a;switch(typeof r){case"object":if(!r)return null;for(s=0;s<e.length;s+=1)if(e[s]===r)return{$ref:n[s]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],s=0;s<r.length;s+=1)a[s]=t(r[s],i+"["+s+"]");else for(o in a={},r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=t(r[o],i+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return r}}(t,"$")))}var e,n}var G=new class{constructor(){this.globalLog=t=>{window.console&&window.console.log&&window.console.log(t)}}debug(...t){this.log(this.globalLog,t)}warn(...t){this.log(this.globalLogWarn,t)}error(...t){this.log(this.globalLogError,t)}globalLogWarn(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)}globalLogError(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)}log(t,...e){var n=N.apply(this,arguments);Oe.log?Oe.log(n):Oe.logToConsole&&t.bind(this)(n)}},Y=function(t,e,n,r,i){void 0===n.headers&&null==n.headersProvider||G.warn(`To send headers with the ${r.toString()} request, you must use AJAX, rather than JSONP.`);var s=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),a=o.createElement("script");t.auth_callbacks[s]=function(t){i(null,t)};var l="Pusher.auth_callbacks['"+s+"']";a.src=n.endpoint+"?callback="+encodeURIComponent(l)+"&"+e;var c=o.getElementsByTagName("head")[0]||o.documentElement;c.insertBefore(a,c.firstChild)};class Q{constructor(t){this.src=t}send(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Z{constructor(t,e){this.url=t,this.data=e}send(t){if(!this.request){var e=V(this.data),n=this.url+"/"+t.number+"?"+e;this.request=ue.createScriptRequest(n),this.request.send(t)}}cleanup(){this.request&&this.request.cleanup()}}var K={name:"jsonp",getAgent:function(t,e){return function(n,r){var s="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,o=ue.createJSONPRequest(s,n),a=ue.ScriptReceivers.create((function(e,n){i.remove(a),o.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)}));o.send(a)}}};function tt(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function et(t,e){return"/app/"+t+"?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(e?"&"+e:"")}var nt={getInitial:function(t,e){return tt("ws",e,(e.httpPath||"")+et(t,"flash=false"))}},rt={getInitial:function(t,e){return tt("http",e,(e.httpPath||"/pusher")+et(t))}},it={getInitial:function(t,e){return tt("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return et(t)}};class st{constructor(){this._callbacks={}}get(t){return this._callbacks[ot(t)]}add(t,e,n){var r=ot(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})}remove(t,e,n){if(t||e||n){var r=t?[ot(t)]:U(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}}removeCallback(t,e,n){B(t,(function(t){this._callbacks[t]=W(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)}removeAllCallbacks(t){B(t,(function(t){delete this._callbacks[t]}),this)}}function ot(t){return"_"+t}class at{constructor(t){this.callbacks=new st,this.global_callbacks=[],this.failThrough=t}bind(t,e,n){return this.callbacks.add(t,e,n),this}bind_global(t){return this.global_callbacks.push(t),this}unbind(t,e,n){return this.callbacks.remove(t,e,n),this}unbind_global(t){return t?(this.global_callbacks=W(this.global_callbacks||[],(e=>e!==t)),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var i=this.callbacks.get(t),s=[];if(n?s.push(e,n):e&&s.push(e),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,s);else this.failThrough&&this.failThrough(t,e);return this}}class lt extends at{constructor(t,e,n,r,i){super(),this.initialize=ue.transportConnectionInitializer,this.hooks=t,this.name=e,this.priority=n,this.key=r,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return Boolean(this.hooks.handlesActivityChecks)}supportsPing(){return Boolean(this.hooks.supportsPing)}connect(){if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return E.defer((()=>{this.onError(t),this.changeState("closed")})),!1}return this.bindListeners(),G.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(t){return"open"===this.state&&(E.defer((()=>{this.socket&&this.socket.send(t)})),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))}onClose(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(t){this.emit("message",t)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=t=>{this.onError(t)},this.socket.onclose=t=>{this.onClose(t)},this.socket.onmessage=t=>{this.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)}buildTimelineMessage(t){return F({cid:this.id},t)}}class ct{constructor(t){this.hooks=t}isSupported(t){return this.hooks.isSupported(t)}createConnection(t,e,n,r){return new lt(this.hooks,t,e,n,r)}}var ut=new ct({urls:nt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(ue.getWebSocketAPI())},isSupported:function(){return Boolean(ue.getWebSocketAPI())},getSocket:function(t){return ue.createWebSocket(t)}}),ht={urls:rt,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},dt=F({getSocket:function(t){return ue.HTTPFactory.createStreamingSocket(t)}},ht),ft=F({getSocket:function(t){return ue.HTTPFactory.createPollingSocket(t)}},ht),pt={isSupported:function(){return ue.isXHRSupported()}},vt={ws:ut,xhr_streaming:new ct(F({},dt,pt)),xhr_polling:new ct(F({},ft,pt))},gt=new ct({file:"sockjs",urls:it,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),bt={isSupported:function(t){return ue.isXDRSupported(t.useTLS)}},mt=new ct(F({},dt,bt)),yt=new ct(F({},ft,bt));vt.xdr_streaming=mt,vt.xdr_polling=yt,vt.sockjs=gt;var St=vt,wt=new class extends at{constructor(){super();var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",(function(){t.emit("online")}),!1),window.addEventListener("offline",(function(){t.emit("offline")}),!1))}isOnline(){return void 0===window.navigator.onLine||window.navigator.onLine}};class _t{constructor(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}createConnection(t,e,n,r){r=F({},r,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(t,e,n,r),s=null,o=function(){i.unbind("open",o),i.bind("closed",a),s=E.now()},a=t=>{if(i.unbind("closed",a),1002===t.code||1003===t.code)this.manager.reportDeath();else if(!t.wasClean&&s){var e=E.now()-s;e<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(e/2,this.minPingDelay))}};return i.bind("open",o),i}isSupported(t){return this.manager.isAlive()&&this.transport.isSupported(t)}}const Ct={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=Ct.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}};var Tt=Ct;class Dt extends at{constructor(t,e){super(),this.id=t,this.transport=e,this.activityTimeout=e.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(t){return this.transport.send(t)}send_event(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),G.debug("Event sent",r),this.send(Tt.encodeMessage(r))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var t={message:t=>{var e;try{e=Tt.decodeMessage(t)}catch(e){this.emit("error",{type:"MessageParseError",error:e,data:t.data})}if(void 0!==e){switch(G.debug("Event recd",e),e.event){case"pusher:error":this.emit("error",{type:"PusherError",data:e.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",e)}},activity:()=>{this.emit("activity")},error:t=>{this.emit("error",t)},closed:t=>{e(),t&&t.code&&this.handleCloseEvent(t),this.transport=null,this.emit("closed")}},e=()=>{M(t,((t,e)=>{this.transport.unbind(e,t)}))};M(t,((t,e)=>{this.transport.bind(e,t)}))}handleCloseEvent(t){var e=Tt.getCloseAction(t),n=Tt.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})}}class xt{constructor(t,e){this.transport=t,this.callback=e,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=t=>{var e;this.unbindListeners();try{e=Tt.processHandshake(t)}catch(t){return this.finish("error",{error:t}),void this.transport.close()}"connected"===e.action?this.finish("connected",{connection:new Dt(e.id,this.transport),activityTimeout:e.activityTimeout}):(this.finish(e.action,{error:e.error}),this.transport.close())},this.onClosed=t=>{this.unbindListeners();var e=Tt.getCloseAction(t)||"backoff",n=Tt.getCloseError(t);this.finish(e,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(t,e){this.callback(F({transport:this.transport,action:t},e))}}class kt{constructor(t,e){this.timeline=t,this.options=e||{}}send(t,e){this.timeline.isEmpty()||this.timeline.send(ue.TimelineTransport.getAgent(this,t),e)}}class At extends at{constructor(t,e){super((function(e,n){G.debug("No callbacks on "+t+" for "+e)})),this.name=t,this.pusher=e,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(t,e){return e(null,{auth:""})}trigger(t,e){if(0!==t.indexOf("client-"))throw new h("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=u("triggeringClientEvents");G.warn(`Client event triggered before channel 'subscription_succeeded' event . ${n}`)}return this.pusher.send_event(t,e,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(t){var e=t.event,n=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):"pusher_internal:subscription_count"===e?this.handleSubscriptionCountEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,n,{})}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)}handleSubscriptionCountEvent(t){t.data.subscription_count&&(this.subscriptionCount=t.data.subscription_count),this.emit("pusher:subscription_count",t.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,((t,e)=>{t?(this.subscriptionPending=!1,G.error(t.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof y?{status:t.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:e.auth,channel_data:e.channel_data,channel:this.name})})))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Pt extends At{authorize(t,e){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:t},e)}}class It{constructor(){this.reset()}get(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null}each(t){M(this.members,((e,n)=>{t(this.get(n))}))}setMyID(t){this.myID=t}onSubscription(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)}addMember(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)}removeMember(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Lt=function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{l(r.next(t))}catch(t){s(t)}}function a(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((r=r.apply(t,e||[])).next())}))};class Rt extends Pt{constructor(t,e){super(t,e),this.members=new It}authorize(t,e){super.authorize(t,((t,n)=>Lt(this,void 0,void 0,(function*(){if(!t)if(null!=n.channel_data){var r=JSON.parse(n.channel_data);this.members.setMyID(r.user_id)}else{if(yield this.pusher.user.signinDonePromise,null==this.pusher.user.user_data){let t=u("authorizationEndpoint");return G.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${t}, or the user should be signed in.`),void e("Invalid auth response")}this.members.setMyID(this.pusher.user.user_data.id)}e(t,n)}))))}handleEvent(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}}handleInternalEvent(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Ot=n(1),jt=n(0);class Et extends Pt{constructor(t,e,n){super(t,e),this.key=null,this.nacl=n}authorize(t,e){super.authorize(t,((t,n)=>{if(t)return void e(t,n);let r=n.shared_secret;r?(this.key=Object(jt.decode)(r),delete n.shared_secret,e(null,n)):e(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)}))}trigger(t,e){throw new g("Client events are not currently supported for encrypted channels")}handleEvent(t){var e=t.event,n=t.data;0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")?this.handleEncryptedEvent(e,n):super.handleEvent(t)}handleEncryptedEvent(t,e){if(!this.key)return void G.debug("Received encrypted event before key has been retrieved from the authEndpoint");if(!e.ciphertext||!e.nonce)return void G.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);let n=Object(jt.decode)(e.ciphertext);if(n.length<this.nacl.secretbox.overheadLength)return void G.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${n.length}`);let r=Object(jt.decode)(e.nonce);if(r.length<this.nacl.secretbox.nonceLength)return void G.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${r.length}`);let i=this.nacl.secretbox.open(n,r,this.key);if(null===i)return G.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,((e,s)=>{e?G.error(`Failed to make a request to the authEndpoint: ${s}. Unable to fetch new key, so dropping encrypted event`):(i=this.nacl.secretbox.open(n,r,this.key),null!==i?this.emit(t,this.getDataToEmit(i)):G.error("Failed to decrypt event with new key. Dropping encrypted event"))}));this.emit(t,this.getDataToEmit(i))}getDataToEmit(t){let e=Object(Ot.decode)(t);try{return JSON.parse(e)}catch(t){return e}}}class Ft extends at{constructor(t,e){super(),this.state="initialized",this.connection=null,this.key=t,this.options=e,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=ue.getNetwork();n.bind("online",(()=>{this.timeline.info({netinfo:"online"}),"connecting"!==this.state&&"unavailable"!==this.state||this.retryIn(0)})),n.bind("offline",(()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()})),this.updateStrategy()}switchCluster(t){this.key=t,this.updateStrategy(),this.retryIn(0)}connect(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))}send(t){return!!this.connection&&this.connection.send(t)}send_event(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var t=(e,n)=>{e?this.runner=this.strategy.connect(0,t):"error"===n.action?(this.emit("error",{type:"HandshakeError",error:n.error}),this.timeline.error({handshakeError:n.error})):(this.abortConnecting(),this.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,t)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(t){this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new R(t||0,(()=>{this.disconnectInternally(),this.connect()}))}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new R(this.options.unavailableTimeout,(()=>{this.updateState("unavailable")}))}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new R(this.options.pongTimeout,(()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)}))}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new R(this.activityTimeout,(()=>{this.sendActivityCheck()})))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(t){return F({},t,{message:t=>{this.resetActivityCheck(),this.emit("message",t)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:t=>{this.emit("error",t)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(t){return F({},t,{connected:t=>{this.activityTimeout=Math.min(this.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(t.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let t=t=>e=>{e.error&&this.emit("error",{type:"WebSocketError",error:e.error}),t(e)};return{tls_only:t((()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)})),refused:t((()=>{this.disconnect()})),backoff:t((()=>{this.retryIn(1e3)})),retry:t((()=>{this.retryIn(0)}))}}setConnection(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}}updateState(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),G.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class Nt{constructor(){this.channels={}}add(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return Ht.createEncryptedChannel(t,e,e.config.nacl);let n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=u("encryptedChannelSupport");throw new g(`${n}. ${r}`)}if(0===t.indexOf("private-"))return Ht.createPrivateChannel(t,e);if(0===t.indexOf("presence-"))return Ht.createPresenceChannel(t,e);if(0===t.indexOf("#"))throw new d('Cannot create a channel with name "'+t+'".');return Ht.createChannel(t,e)}(t,e)),this.channels[t]}all(){return function(t){var e=[];return M(t,(function(t){e.push(t)})),e}(this.channels)}find(t){return this.channels[t]}remove(t){var e=this.channels[t];return delete this.channels[t],e}disconnect(){M(this.channels,(function(t){t.disconnect()}))}}var Ht={createChannels(){return new Nt},createConnectionManager(t,e){return new Ft(t,e)},createChannel(t,e){return new At(t,e)},createPrivateChannel(t,e){return new Pt(t,e)},createPresenceChannel(t,e){return new Rt(t,e)},createEncryptedChannel(t,e,n){return new Et(t,e,n)},createTimelineSender(t,e){return new kt(t,e)},createHandshake(t,e){return new xt(t,e)},createAssistantToTheTransportManager(t,e,n){return new _t(t,e,n)}};class Mt{constructor(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}getAssistant(t){return Ht.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ut{constructor(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}isSupported(){return X(this.strategies,E.method("isSupported"))}connect(t,e){var n=this.strategies,r=0,i=this.timeout,s=null,o=(a,l)=>{l?e(null,l):(r+=1,this.loop&&(r%=n.length),r<n.length?(i&&(i*=2,this.timeoutLimit&&(i=Math.min(i,this.timeoutLimit))),s=this.tryStrategy(n[r],t,{timeout:i,failFast:this.failFast},o)):e(!0))};return s=this.tryStrategy(n[r],t,{timeout:i,failFast:this.failFast},o),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}}tryStrategy(t,e,n,r){var i=null,s=null;return n.timeout>0&&(i=new R(n.timeout,(function(){s.abort(),r(!0)}))),s=t.connect(e,(function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))})),{abort:function(){i&&i.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}}}class Bt{constructor(t){this.strategies=t}isSupported(){return X(this.strategies,E.method("isSupported"))}connect(t,e){return function(t,e,n){var r=q(t,(function(t,r,i,s){return t.connect(e,n(r,s))}));return{abort:function(){B(r,qt)},forceMinPriority:function(t){B(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(r,i){n[t].error=r,r?function(t){return function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(B(n,(function(t){t.forceMinPriority(i.transport.priority)})),e(null,i))}}))}}function qt(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}class Wt{constructor(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}isSupported(){return this.strategy.isSupported()}connect(t,e){var n=this.usingTLS,r=function(t){var e=ue.getLocalStorage();if(e)try{var n=e[zt(t)];if(n)return JSON.parse(n)}catch(e){Xt(t)}return null}(n),i=r&&r.cacheSkipCount?r.cacheSkipCount:0,s=[this.strategy];if(r&&r.timestamp+this.ttl>=E.now()){var o=this.transports[r.transport];o&&(["ws","wss"].includes(r.transport)||i>3?(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),s.push(new Ut([o],{timeout:2*r.latency+1e3,failFast:!0}))):i++)}var a=E.now(),l=s.pop().connect(t,(function r(o,c){o?(Xt(n),s.length>0?(a=E.now(),l=s.pop().connect(t,r)):e(o)):(function(t,e,n,r){var i=ue.getLocalStorage();if(i)try{i[zt(t)]=$({timestamp:E.now(),transport:e,latency:n,cacheSkipCount:r})}catch(t){}}(n,c.transport.name,E.now()-a,i),e(null,c))}));return{abort:function(){l.abort()},forceMinPriority:function(e){t=e,l&&l.forceMinPriority(e)}}}}function zt(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function Xt(t){var e=ue.getLocalStorage();if(e)try{delete e[zt(t)]}catch(t){}}class Jt{constructor(t,{delay:e}){this.strategy=t,this.options={delay:e}}isSupported(){return this.strategy.isSupported()}connect(t,e){var n,r=this.strategy,i=new R(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}}}class Vt{constructor(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)}}class $t{constructor(t){this.strategy=t}isSupported(){return this.strategy.isSupported()}connect(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n}}function Gt(t){return function(){return t.isSupported()}}var Yt,Qt=function(t,e,n){var r={};function i(e,i,s,o,a){var l=n(t,e,i,s,o,a);return r[e]=l,l}var s,o=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),a=Object.assign({},o,{useTLS:!0}),l=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new Mt({minPingDelay:1e4,maxPingDelay:t.activityTimeout}),h=new Mt({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),d=i("ws","ws",3,o,u),f=i("wss","ws",3,a,u),p=i("sockjs","sockjs",1,l),v=i("xhr_streaming","xhr_streaming",1,l,h),g=i("xdr_streaming","xdr_streaming",1,l,h),b=i("xhr_polling","xhr_polling",1,l),m=i("xdr_polling","xdr_polling",1,l),y=new Ut([d],c),S=new Ut([f],c),w=new Ut([p],c),_=new Ut([new Vt(Gt(v),v,g)],c),C=new Ut([new Vt(Gt(b),b,m)],c),T=new Ut([new Vt(Gt(_),new Bt([_,new Jt(C,{delay:4e3})]),C)],c),D=new Vt(Gt(T),T,w);return s=e.useTLS?new Bt([y,new Jt(D,{delay:2e3})]):new Bt([y,new Jt(S,{delay:2e3}),new Jt(D,{delay:5e3})]),new Wt(new $t(new Vt(Gt(d),s,D)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},Zt={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new f),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};class Kt extends at{constructor(t,e,n){super(),this.hooks=t,this.method=e,this.url=n}start(t){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ue.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)}close(){this.unloader&&(ue.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")}advanceBuffer(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null}isBufferTooLong(t){return this.position===t.length&&t.length>262144}}!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(Yt||(Yt={}));var te=Yt,ee=1;function ne(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+ee++}function re(t){return ue.randomInt(t)}var ie,se=class{constructor(t,e){this.hooks=t,this.session=re(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(re(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=te.CONNECTING,this.openStream()}send(t){return this.sendRaw(JSON.stringify([t]))}ping(){this.hooks.sendHeartbeat(this)}close(t,e){this.onClose(t,e,!0)}sendRaw(t){if(this.readyState!==te.OPEN)return!1;try{return ue.createSocketRequest("POST",ne((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n}reconnect(){this.closeStream(),this.openStream()}onClose(t,e,n){this.closeStream(),this.readyState=te.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})}onChunk(t){var e;if(200===t.status)switch(this.readyState===te.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}}onOpen(t){var e,n,r;this.readyState===te.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=te.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(t){this.readyState===te.OPEN&&this.onmessage&&this.onmessage({data:t})}onActivity(){this.onactivity&&this.onactivity()}onError(t){this.onerror&&this.onerror(t)}openStream(){this.stream=ue.createSocketRequest("POST",ne(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(t=>{this.onChunk(t)})),this.stream.bind("finished",(t=>{this.hooks.onFinished(this,t)})),this.stream.bind("buffer_too_long",(()=>{this.reconnect()}));try{this.stream.start()}catch(t){E.defer((()=>{this.onError(t),this.onClose(1006,"Could not start streaming",!1)}))}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},oe={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ae={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},le={getRequest:function(t){var e=new(ue.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},ce={createStreamingSocket(t){return this.createSocket(oe,t)},createPollingSocket(t){return this.createSocket(ae,t)},createSocket(t,e){return new se(t,e)},createXHR(t,e){return this.createRequest(le,t,e)},createRequest(t,e,n){return new Kt(t,e,n)},createXDR:function(t,e){return this.createRequest(Zt,t,e)}},ue={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:i,DependenciesReceivers:o,getDefaultStrategy:Qt,Transports:St,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),a.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:ce,TimelineTransport:K,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(t){window.Pusher=t;var e=()=>{this.onDocumentBody(t.ready)};window.JSON?e():a.load("json2",{},e)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:S,jsonp:Y}},onDocumentBody(t){document.body?t():setTimeout((()=>{this.onDocumentBody(t)}),0)},createJSONPRequest(t,e){return new Z(t,e)},createScriptRequest(t){return new Q(t)},getLocalStorage(){try{return window.localStorage}catch(t){return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new(this.getXHRAPI())},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return wt},createWebSocket(t){return new(this.getWebSocketAPI())(t)},createSocketRequest(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)},randomInt(t){return Math.floor((window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(ie||(ie={}));var he=ie;class de{constructor(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}log(t,e){t<=this.options.level&&(this.events.push(F({},e,{timestamp:E.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(t){this.log(he.ERROR,t)}info(t){this.log(he.INFO,t)}debug(t){this.log(he.DEBUG,t)}isEmpty(){return 0===this.events.length}send(t,e){var n=F({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(n,((t,n)=>{t||this.sent++,e&&e(t,n)})),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class fe{constructor(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(t,e){if(!this.isSupported())return pe(new m,e);if(this.priority<t)return pe(new p,e);var n=!1,r=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,s=function(){r.unbind("initialized",s),r.connect()},o=function(){i=Ht.createHandshake(r,(function(t){n=!0,c(),e(null,t)}))},a=function(t){c(),e(t)},l=function(){var t;c(),t=$(r),e(new v(t))},c=function(){r.unbind("initialized",s),r.unbind("open",o),r.unbind("error",a),r.unbind("closed",l)};return r.bind("initialized",s),r.bind("open",o),r.bind("error",a),r.bind("closed",l),r.initialize(),{abort:()=>{n||(c(),i?i.close():r.close())},forceMinPriority:t=>{n||this.priority<t&&(i?i.close():r.close())}}}}function pe(t,e){return E.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ve}=ue;var ge=function(t,e,n,r,i,s){var o,a=ve[n];if(!a)throw new b(n);return t.enabledTransports&&-1===H(t.enabledTransports,e)||t.disabledTransports&&-1!==H(t.disabledTransports,e)?o=be:(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),o=new fe(e,r,s?s.getAssistant(a):a,i)),o},be={isSupported:function(){return!1},connect:function(t,e){var n=E.defer((function(){e(new m)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},me=t=>{if(void 0===ue.getAuthorizers()[t.transport])throw`'${t.transport}' is not a recognized auth transport`;return(e,n)=>{const r=((t,e)=>{var n="socket_id="+encodeURIComponent(t.socketId);for(var r in e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);if(null!=e.paramsProvider){let t=e.paramsProvider();for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r])}return n})(e,t);ue.getAuthorizers()[t.transport](ue,r,t,c.UserAuthentication,n)}},ye=t=>{if(void 0===ue.getAuthorizers()[t.transport])throw`'${t.transport}' is not a recognized auth transport`;return(e,n)=>{const r=((t,e)=>{var n="socket_id="+encodeURIComponent(t.socketId);for(var r in n+="&channel_name="+encodeURIComponent(t.channelName),e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);if(null!=e.paramsProvider){let t=e.paramsProvider();for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r])}return n})(e,t);ue.getAuthorizers()[t.transport](ue,r,t,c.ChannelAuthorization,n)}};const Se=(t,e,n)=>{const r={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return(e,i)=>{const s=t.channel(e.channelName);n(s,r).authorize(e.socketId,i)}};function we(t,e){let n={activityTimeout:t.activityTimeout||s.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||s.httpPath,httpPort:t.httpPort||s.httpPort,httpsPort:t.httpsPort||s.httpsPort,pongTimeout:t.pongTimeout||s.pongTimeout,statsHost:t.statsHost||s.stats_host,unavailableTimeout:t.unavailableTimeout||s.unavailableTimeout,wsPath:t.wsPath||s.wsPath,wsPort:t.wsPort||s.wsPort,wssPort:t.wssPort||s.wssPort,enableStats:De(t),httpHost:_e(t),useTLS:Te(t),wsHost:Ce(t),userAuthenticator:ke(t),channelAuthorizer:Ae(t,e)};return"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n}function _e(t){return t.httpHost?t.httpHost:t.cluster?`sockjs-${t.cluster}.pusher.com`:s.httpHost}function Ce(t){return t.wsHost?t.wsHost:`ws-${t.cluster}.pusher.com`}function Te(t){return"https:"===ue.getProtocol()||!1!==t.forceTLS}function De(t){return"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats}const xe=t=>"customHandler"in t&&null!=t.customHandler;function ke(t){const e=Object.assign(Object.assign({},s.userAuthentication),t.userAuthentication);return xe(e)?e.customHandler:me(e)}function Ae(t,e){const n=function(t,e){let n;if("channelAuthorization"in t)n=Object.assign(Object.assign({},s.channelAuthorization),t.channelAuthorization);else if(n={transport:t.authTransport||s.authTransport,endpoint:t.authEndpoint||s.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t)return{customHandler:Se(e,n,t.authorizer)};return n}(t,e);return xe(n)?n.customHandler:ye(n)}class Pe extends at{constructor(t){super((function(t,e){G.debug(`No callbacks on watchlist events for ${t}`)})),this.pusher=t,this.bindWatchlistInternalEvent()}handleEvent(t){t.data.events.forEach((t=>{this.emit(t.name,t)}))}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",(t=>{"pusher_internal:watchlist_events"===t.event&&this.handleEvent(t)}))}}var Ie=function(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}};class Le extends at{constructor(t){super((function(t,e){G.debug("No callbacks on user for "+t)})),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(t,e)=>{if(t)return G.warn(`Error during signin: ${t}`),void this._cleanup();this.pusher.send_event("pusher:signin",{auth:e.auth,user_data:e.user_data})},this.pusher=t,this.pusher.connection.bind("state_change",(({previous:t,current:e})=>{"connected"!==t&&"connected"===e&&this._signin(),"connected"===t&&"connected"!==e&&(this._cleanup(),this._newSigninPromiseIfNeeded())})),this.watchlist=new Pe(t),this.pusher.connection.bind("message",(t=>{"pusher:signin_success"===t.event&&this._onSigninSuccess(t.data),this.serverToUserChannel&&this.serverToUserChannel.name===t.channel&&this.serverToUserChannel.handleEvent(t)}))}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(t){try{this.user_data=JSON.parse(t.user_data)}catch(e){return G.error(`Failed parsing user data after signin: ${t.user_data}`),void this._cleanup()}if("string"!=typeof this.user_data.id||""===this.user_data.id)return G.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new At(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global(((t,e)=>{0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")&&this.emit(t,e)})),(t=>{t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.pusher.connection.state||t.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested)return;if(this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:t,resolve:e,reject:n}=Ie();t.done=!1;const r=()=>{t.done=!0};t.then(r).catch(r),this.signinDonePromise=t,this._signinDoneResolve=e}}class Re{static ready(){Re.isReady=!0;for(var t=0,e=Re.instances.length;t<e;t++)Re.instances[t].connect()}static getClientFeatures(){return U(z({ws:ue.Transports.ws},(function(t){return t.isSupported({})})))}constructor(t,e){!function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(t),function(t){if(null==t)throw"You must pass an options object";if(null==t.cluster)throw"Options object must provide a cluster";"disableStats"in t&&G.warn("The disableStats option is deprecated in favor of enableStats")}(e),this.key=t,this.options=e,this.config=we(this.options,this),this.channels=Ht.createChannels(),this.global_emitter=new at,this.sessionID=ue.randomInt(1e9),this.timeline=new de(this.key,this.sessionID,{cluster:this.config.cluster,features:Re.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:he.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=Ht.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ue.TimelineTransport.name})),this.connection=Ht.createConnectionManager(this.key,{getStrategy:t=>ue.getDefaultStrategy(this.config,t,ge),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())})),this.connection.bind("message",(t=>{var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=this.channel(t.channel);n&&n.handleEvent(t)}e||this.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(()=>{this.channels.disconnect()})),this.connection.bind("disconnected",(()=>{this.channels.disconnect()})),this.connection.bind("error",(t=>{G.warn(t)})),Re.instances.push(this),this.timeline.info({instances:Re.instances.length}),this.user=new Le(this),Re.isReady&&this.connect()}switchCluster(t){const{appKey:e,cluster:n}=t;this.key=e,this.options=Object.assign(Object.assign({},this.options),{cluster:n}),this.config=we(this.options,this),this.connection.switchCluster(this.key)}channel(t){return this.channels.find(t)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new O(6e4,(function(){e.send(t)}))}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(t,e,n){return this.global_emitter.bind(t,e,n),this}unbind(t,e,n){return this.global_emitter.unbind(t,e,n),this}bind_global(t){return this.global_emitter.bind_global(t),this}unbind_global(t){return this.global_emitter.unbind_global(t),this}unbind_all(t){return this.global_emitter.unbind_all(),this}subscribeAll(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)}subscribe(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e}unsubscribe(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&e.subscribed&&e.unsubscribe()}send_event(t,e,n){return this.connection.send_event(t,e,n)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Re.instances=[],Re.isReady=!1,Re.logToConsole=!1,Re.Runtime=ue,Re.ScriptReceivers=ue.ScriptReceivers,Re.DependenciesReceivers=ue.DependenciesReceivers,Re.auth_callbacks=ue.auth_callbacks;var Oe=e.default=Re;ue.setup(Re)}])},t.exports=e()},21145:function(e){"use strict";e.exports=t}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,r),s.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){"use strict";r.r(i);var t,e,n,s,o=r(21145),a=function(n,r){if(a.factory(n,r))return a;if(this instanceof a)return o(n).DataTable(r);r=n,this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(n){return new e(n?ae(this[t.iApiIndex]):this)},this.fnAddData=function(t,e){var n=this.api(!0),r=Array.isArray(t)&&(Array.isArray(t[0])||o.isPlainObject(t[0]))?n.rows.add(t):n.row.add(t);return(void 0===e||e)&&n.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;void 0===t||t?e.draw(!1):""===r.sX&&""===r.sY||qt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(void 0===t||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),i=r.rows(t),s=i.settings()[0],o=s.aoData[i[0][0]];return i.remove(),e&&e.call(this,s,o),(void 0===n||n)&&r.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,i,s){var o=this.api(!0);null==e?o.search(t,n,r,s):o.column(e).search(t,n,r,s),o.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(void 0!==t){var r=t.nodeName?t.nodeName.toLowerCase():"";return void 0!==e||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return void 0!==t?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var r=e.cell(t).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(void 0===e||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var r=this.api(!0).column(t).visible(e);(void 0===n||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return ae(this[t.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,i){var s=this.api(!0);return null==n?s.row(e).data(t):s.cell(e,n).data(t),(void 0===i||i)&&s.columns.adjust(),(void 0===r||r)&&s.draw(),0},this.fnVersionCheck=t.fnVersionCheck;var i=this,s=void 0===r,l=this.length;for(var c in s&&(r={}),this.oApi=this.internal=t.internal,a.ext.internal)c&&(this[c]=Je(c));return this.each((function(){var t,e=l>1?ue({},r,!0):r,n=0,c=this.getAttribute("id"),u=!1,h=a.defaults,d=o(this);if("table"==this.nodeName.toLowerCase()){L(h),R(h.column),A(h,h,!0),A(h.column,h.column,!0),A(h,o.extend(e,d.data()),!0);var f=a.settings;for(n=0,t=f.length;n<t;n++){var p=f[n];if(p.nTable==this||p.nTHead&&p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){var v=void 0!==e.bRetrieve?e.bRetrieve:h.bRetrieve,g=void 0!==e.bDestroy?e.bDestroy:h.bDestroy;if(s||v)return p.oInstance;if(g){p.oInstance.fnDestroy();break}return void le(p,0,"Cannot reinitialise DataTable",3)}if(p.sTableId==this.id){f.splice(n,1);break}}null!==c&&""!==c||(c="DataTables_Table_"+a.ext._unique++,this.id=c);var b=o.extend(!0,{},a.models.oSettings,{sDestroyWidth:d[0].style.width,sInstance:c,sTableId:c});b.nTable=this,b.oApi=i.internal,b.oInit=e,f.push(b),b.oInstance=1===i.length?i:d.dataTable(),L(e),P(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=Array.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=ue(o.extend(!0,{},h),e),ce(b.oFeatures,e,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ce(b,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ce(b.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ce(b.oLanguage,e,"fnInfoCallback"),de(b,"aoDrawCallback",e.fnDrawCallback,"user"),de(b,"aoServerParams",e.fnServerParams,"user"),de(b,"aoStateSaveParams",e.fnStateSaveParams,"user"),de(b,"aoStateLoadParams",e.fnStateLoadParams,"user"),de(b,"aoStateLoaded",e.fnStateLoaded,"user"),de(b,"aoRowCallback",e.fnRowCallback,"user"),de(b,"aoRowCreatedCallback",e.fnCreatedRow,"user"),de(b,"aoHeaderCallback",e.fnHeaderCallback,"user"),de(b,"aoFooterCallback",e.fnFooterCallback,"user"),de(b,"aoInitComplete",e.fnInitComplete,"user"),de(b,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),b.rowIdFn=Q(e.rowId),O(b);var m=b.oClasses;if(o.extend(m,a.ext.classes,e.oClasses),d.addClass(m.sTable),void 0===b.iInitDisplayStart&&(b.iInitDisplayStart=e.iDisplayStart,b._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading){b.bDeferLoading=!0;var y=Array.isArray(e.iDeferLoading);b._iRecordsDisplay=y?e.iDeferLoading[0]:e.iDeferLoading,b._iRecordsTotal=y?e.iDeferLoading[1]:e.iDeferLoading}var S=b.oLanguage;o.extend(!0,S,e.oLanguage),S.sUrl?(o.ajax({dataType:"json",url:S.sUrl,success:function(t){A(h.oLanguage,t),P(t),o.extend(!0,S,t,b.oInit.oLanguage),fe(b,null,"i18n",[b]),Ot(b)},error:function(){Ot(b)}}),u=!0):fe(b,null,"i18n",[b]),null===e.asStripeClasses&&(b.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var w=b.asStripeClasses,_=d.children("tbody").find("tr").eq(0);-1!==o.inArray(!0,o.map(w,(function(t,e){return _.hasClass(t)})))&&(o("tbody tr",this).removeClass(w.join(" ")),b.asDestroyStripes=w.slice());var C,T=[],D=this.getElementsByTagName("thead");if(0!==D.length&&(ht(b.aoHeader,D[0]),T=dt(b)),null===e.aoColumns)for(C=[],n=0,t=T.length;n<t;n++)C.push(null);else C=e.aoColumns;for(n=0,t=C.length;n<t;n++)E(b,T?T[n]:null);if(W(b,e.aoColumnDefs,C,(function(t,e){F(b,t,e)})),_.length){var x=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};o(_[0]).children("th, td").each((function(t,e){var n=b.aoColumns[t];if(n||le(b,0,"Incorrect column count",18),n.mData===t){var r=x(e,"sort")||x(e,"order"),i=x(e,"filter")||x(e,"search");null===r&&null===i||(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:void 0,type:null!==r?t+".@data-"+r:void 0,filter:null!==i?t+".@data-"+i:void 0},n._isArrayHost=!0,F(b,t))}}))}var k=b.oFeatures,I=function(){if(void 0===e.aaSorting){var r=b.aaSorting;for(n=0,t=r.length;n<t;n++)r[n][1]=b.aoColumns[n].asSorting[0]}ne(b),k.bSort&&de(b,"aoDrawCallback",(function(){if(b.bSorted){var t=Qt(b),e={};o.each(t,(function(t,n){e[n.src]=n.dir})),fe(b,null,"order",[b,t,e]),Kt(b)}})),de(b,"aoDrawCallback",(function(){(b.bSorted||"ssp"===ge(b)||k.bDeferRender)&&ne(b)}),"sc");var i=d.children("caption").each((function(){this._captionSide=o(this).css("caption-side")})),s=d.children("thead");0===s.length&&(s=o("<thead/>").appendTo(d)),b.nTHead=s[0];var a=d.children("tbody");0===a.length&&(a=o("<tbody/>").insertAfter(s)),b.nTBody=a[0];var l=d.children("tfoot");if(0===l.length&&i.length>0&&(""!==b.oScroll.sX||""!==b.oScroll.sY)&&(l=o("<tfoot/>").appendTo(d)),0===l.length||0===l.children().length?d.addClass(m.sNoFooter):l.length>0&&(b.nTFoot=l[0],ht(b.aoFooter,b.nTFoot)),e.aaData)for(n=0;n<e.aaData.length;n++)z(b,e.aaData[n]);else(b.bDeferLoading||"dom"==ge(b))&&X(b,o(b.nTBody).children("tr"));b.aiDisplay=b.aiDisplayMaster.slice(),b.bInitialised=!0,!1===u&&Ot(b)};de(b,"aoDrawCallback",ie,"state_save"),e.bStateSave?(k.bStateSave=!0,se(b,e,I)):I()}else le(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),i=null,this},l={},c=/[\r\n\u2028]/g,u=/<.*?>/g,h=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,p=function(t){return!t||!0===t||"-"===t},v=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},g=function(t,e){return l[e]||(l[e]=new RegExp(Tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(l[e],"."):t},b=function(t,e,n){var r=typeof t,i="string"===r;return"number"===r||"bigint"===r||(!!p(t)||(e&&i&&(t=g(t,e)),n&&i&&(t=t.replace(f,"")),!isNaN(parseFloat(t))&&isFinite(t)))},m=function(t,e,n){if(p(t))return!0;var r=function(t){return p(t)||"string"==typeof t}(t);return r&&!!b(C(t),e,n)||null},y=function(t,e,n){var r=[],i=0,s=t.length;if(void 0!==n)for(;i<s;i++)t[i]&&t[i][e]&&r.push(t[i][e][n]);else for(;i<s;i++)t[i]&&r.push(t[i][e]);return r},S=function(t,e,n,r){var i=[],s=0,o=e.length;if(void 0!==r)for(;s<o;s++)t[e[s]][n]&&i.push(t[e[s]][n][r]);else for(;s<o;s++)i.push(t[e[s]][n]);return i},w=function(t,e){var n,r=[];void 0===e?(e=0,n=t):(n=e,e=t);for(var i=e;i<n;i++)r.push(i);return r},_=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&e.push(t[n]);return e},C=function(t){return t.replace(u,"").replace(/<script/i,"")},T=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],r=1,i=e.length;r<i;r++){if(e[r]===n)return!1;n=e[r]}return!0}(t))return t.slice();var e,n,r,i=[],s=t.length,o=0;t:for(n=0;n<s;n++){for(e=t[n],r=0;r<o;r++)if(i[r]===e)continue t;i.push(e),o++}return i},D=function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)D(t,e[n]);else t.push(e);return t},x=function(t,e){return void 0===e&&(e=0),-1!==this.indexOf(t,e)};function k(t){var e,n,r={};o.each(t,(function(i,s){(e=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(e[1]+" ")&&(n=i.replace(e[0],e[2].toLowerCase()),r[n]=i,"o"===e[1]&&k(t[i]))})),t._hungarianMap=r}function A(t,e,n){var r;t._hungarianMap||k(t),o.each(e,(function(i,s){void 0===(r=t._hungarianMap[i])||!n&&void 0!==e[r]||("o"===r.charAt(0)?(e[r]||(e[r]={}),o.extend(!0,e[r],e[i]),A(t[r],e[r],n)):e[r]=e[i])}))}function P(t){var e=a.defaults.oLanguage,n=e.sDecimal;if(n&&Fe(n),t){var r=t.sZeroRecords;!t.sEmptyTable&&r&&"No data available in table"===e.sEmptyTable&&ce(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&r&&"Loading..."===e.sLoadingRecords&&ce(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var i=t.sDecimal;i&&n!==i&&Fe(i)}}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.includes||(Array.prototype.includes=x),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=x),a.util={throttle:function(t,e){var n,r,i=void 0!==e?e:200;return function(){var e=this,s=+new Date,o=arguments;n&&s<n+i?(clearTimeout(r),r=setTimeout((function(){n=void 0,t.apply(e,o)}),i)):(n=s,t.apply(e,o))}},escapeRegex:function(t){return t.replace(d,"\\$1")},set:function(t){if(o.isPlainObject(t))return a.util.set(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,r){t(e,"set",n,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var e=function(t,n,r){for(var i,s,o,a,l,c=Y(r),u=c[c.length-1],h=0,d=c.length-1;h<d;h++){if("__proto__"===c[h]||"constructor"===c[h])throw new Error("Cannot set prototype values");if(s=c[h].match($),o=c[h].match(G),s){if(c[h]=c[h].replace($,""),t[c[h]]=[],(i=c.slice()).splice(0,h+1),l=i.join("."),Array.isArray(n))for(var f=0,p=n.length;f<p;f++)e(a={},n[f],l),t[c[h]].push(a);else t[c[h]]=n;return}o&&(c[h]=c[h].replace(G,""),t=t[c[h]](n)),null!==t[c[h]]&&void 0!==t[c[h]]||(t[c[h]]={}),t=t[c[h]]}u.match(G)?t=t[u.replace(G,"")](n):t[u.replace($,"")]=n};return function(n,r){return e(n,r,t)}},get:function(t){if(o.isPlainObject(t)){var e={};return o.each(t,(function(t,n){n&&(e[t]=a.util.get(n))})),function(t,n,r,i){var s=e[n]||e._;return void 0!==s?s(t,n,r,i):t}}if(null===t)return function(t){return t};if("function"==typeof t)return function(e,n,r,i){return t(e,n,r,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var n=function(t,e,r){var i,s,o,a;if(""!==r)for(var l=Y(r),c=0,u=l.length;c<u;c++){if(i=l[c].match($),s=l[c].match(G),i){if(l[c]=l[c].replace($,""),""!==l[c]&&(t=t[l[c]]),o=[],l.splice(0,c+1),a=l.join("."),Array.isArray(t))for(var h=0,d=t.length;h<d;h++)o.push(n(t[h],e,a));var f=i[0].substring(1,i[0].length-1);t=""===f?o:o.join(f);break}if(s)l[c]=l[c].replace(G,""),t=t[l[c]]();else{if(null===t||null===t[l[c]])return null;if(void 0===t||void 0===t[l[c]])return;t=t[l[c]]}}return t};return function(e,r){return n(e,r,t)}}};var I=function(t,e,n){void 0!==t[e]&&(t[n]=t[e])};function L(t){I(t,"ordering","bSort"),I(t,"orderMulti","bSortMulti"),I(t,"orderClasses","bSortClasses"),I(t,"orderCellsTop","bSortCellsTop"),I(t,"order","aaSorting"),I(t,"orderFixed","aaSortingFixed"),I(t,"paging","bPaginate"),I(t,"pagingType","sPaginationType"),I(t,"pageLength","iDisplayLength"),I(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,r=e.length;n<r;n++)e[n]&&A(a.models.oSearch,e[n])}function R(t){I(t,"orderable","bSortable"),I(t,"orderData","aDataSort"),I(t,"orderSequence","asSorting"),I(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||Array.isArray(e)||(t.aDataSort=[e])}function O(t){if(!a.__browser){var e={};a.__browser=e;var n=o("<div/>").css({position:"fixed",top:0,left:-1*o(window).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(o("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(o("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=n.children(),i=r.children();e.barWidth=r[0].offsetWidth-r[0].clientWidth,e.bScrollOversize=100===i[0].offsetWidth&&100!==r[0].clientWidth,e.bScrollbarLeft=1!==Math.round(i.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}o.extend(t.oBrowser,a.__browser),t.oScroll.iBarWidth=a.__browser.barWidth}function j(t,e,n,r,i,s){var o,a=r,l=!1;for(void 0!==n&&(o=n,l=!0);a!==i;)t.hasOwnProperty(a)&&(o=l?e(o,t[a],a,t):t[a],l=!0,a+=s);return o}function E(t,e){var n=a.defaults.column,r=t.aoColumns.length,i=o.extend({},a.models.oColumn,n,{nTh:e||document.createElement("th"),sTitle:n.sTitle?n.sTitle:e?e.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[r],mData:n.mData?n.mData:r,idx:r});t.aoColumns.push(i);var s=t.aoPreSearchCols;s[r]=o.extend({},a.models.oSearch,s[r]),F(t,r,o(e).data())}function F(t,e,n){var r=t.aoColumns[e],i=t.oClasses,s=o(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=s.attr("width")||null;var l=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);l&&(r.sWidthOrig=l[1])}if(null!=n){R(n),A(a.defaults.column,n,!0),void 0===n.mDataProp||n.mData||(n.mData=n.mDataProp),n.sType&&(r._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&s.addClass(n.sClass);var c=r.sClass;o.extend(r,n),ce(r,n,"sWidth","sWidthOrig"),c!==r.sClass&&(r.sClass=c+" "+r.sClass),void 0!==n.iDataSort&&(r.aDataSort=[n.iDataSort]),ce(r,n,"aDataSort"),r.ariaTitle||(r.ariaTitle=s.attr("aria-label"))}var u=r.mData,h=Q(u),d=r.mRender?Q(r.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};r._bAttrSrc=o.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),r._setter=null,r.fnGetData=function(t,e,n){var r=h(t,e,void 0,n);return d&&e?d(r,e,t,n):r},r.fnSetData=function(t,e,n){return Z(u)(t,e,n)},"number"==typeof u||r._isArrayHost||(t._rowReadObject=!0),t.oFeatures.bSort||(r.bSortable=!1,s.addClass(i.sSortableNone));var p=-1!==o.inArray("asc",r.asSorting),v=-1!==o.inArray("desc",r.asSorting);r.bSortable&&(p||v)?p&&!v?(r.sSortingClass=i.sSortableAsc,r.sSortingClassJUI=i.sSortJUIAscAllowed):!p&&v?(r.sSortingClass=i.sSortableDesc,r.sSortingClassJUI=i.sSortJUIDescAllowed):(r.sSortingClass=i.sSortable,r.sSortingClassJUI=i.sSortJUI):(r.sSortingClass=i.sSortableNone,r.sSortingClassJUI="")}function N(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Xt(t);for(var n=0,r=e.length;n<r;n++)e[n].nTh.style.width=e[n].sWidth}var i=t.oScroll;""===i.sY&&""===i.sX||qt(t),fe(t,null,"column-sizing",[t])}function H(t,e){var n=B(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function M(t,e){var n=B(t,"bVisible"),r=o.inArray(e,n);return-1!==r?r:null}function U(t){var e=0;return o.each(t.aoColumns,(function(t,n){n.bVisible&&"none"!==o(n.nTh).css("display")&&e++})),e}function B(t,e){var n=[];return o.map(t.aoColumns,(function(t,r){t[e]&&n.push(r)})),n}function q(t){var e,n,r,i,s,o,l,c,u,h=t.aoColumns,d=t.aoData,f=a.ext.type.detect;for(e=0,n=h.length;e<n;e++)if(u=[],!(l=h[e]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,i=f.length;r<i;r++){for(s=0,o=d.length;s<o&&(void 0===u[s]&&(u[s]=J(t,s,e,"type")),(c=f[r](u[s],t))||r===f.length-1)&&("html"!==c||p(u[s]));s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function W(t,e,n,r){var i,s,a,l,c,u,h,d=t.aoColumns;if(e)for(i=e.length-1;i>=0;i--){var f=void 0!==(h=e[i]).target?h.target:void 0!==h.targets?h.targets:h.aTargets;for(Array.isArray(f)||(f=[f]),a=0,l=f.length;a<l;a++)if("number"==typeof f[a]&&f[a]>=0){for(;d.length<=f[a];)E(t);r(f[a],h)}else if("number"==typeof f[a]&&f[a]<0)r(d.length+f[a],h);else if("string"==typeof f[a])for(c=0,u=d.length;c<u;c++)("_all"==f[a]||o(d[c].nTh).hasClass(f[a]))&&r(c,h)}if(n)for(i=0,s=n.length;i<s;i++)r(i,n[i])}function z(t,e,n,r){var i=t.aoData.length,s=o.extend(!0,{},a.models.oRow,{src:n?"dom":"data",idx:i});s._aData=e,t.aoData.push(s);for(var l=t.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;t.aiDisplayMaster.push(i);var h=t.rowIdFn(e);return void 0!==h&&(t.aIds[h]=s),!n&&t.oFeatures.bDeferRender||it(t,i,n,r),i}function X(t,e){var n;return e instanceof o||(e=o(e)),e.map((function(e,r){return n=rt(t,r),z(t,n.data,r,n.cells)}))}function J(t,e,n,r){"search"===r?r="filter":"order"===r&&(r="sort");var i=t.iDraw,s=t.aoColumns[n],o=t.aoData[e]._aData,l=s.sDefaultContent,c=s.fnGetData(o,r,{settings:t,row:e,col:n});if(void 0===c)return t.iDrawError!=i&&null===l&&(le(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=i),l;if(c!==o&&null!==c||null===l||void 0===r){if("function"==typeof c)return c.call(o)}else c=l;if(null===c&&"display"===r)return"";if("filter"===r){var u=a.ext.type.search;u[s.sType]&&(c=u[s.sType](c))}return c}function V(t,e,n,r){var i=t.aoColumns[n],s=t.aoData[e]._aData;i.fnSetData(s,r,{settings:t,row:e,col:n})}var $=/\[.*?\]$/,G=/\(\)$/;function Y(t){return o.map(t.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}var Q=a.util.get,Z=a.util.set;function K(t){return y(t.aoData,"_aData")}function tt(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function et(t,e,n){for(var r=-1,i=0,s=t.length;i<s;i++)t[i]==e?r=i:t[i]>e&&t[i]--;-1!=r&&void 0===n&&t.splice(r,1)}function nt(t,e,n,r){var i,s,o=t.aoData[e],a=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=J(t,e,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var l=o.anCells;if(l)if(void 0!==r)a(l[r],r);else for(i=0,s=l.length;i<s;i++)a(l[i],i)}else o._aData=rt(t,o,r,void 0===r?void 0:o._aData).data;o._aSortData=null,o._aFilterData=null;var c=t.aoColumns;if(void 0!==r)c[r].sType=null;else{for(i=0,s=c.length;i<s;i++)c[i].sType=null;st(t,o)}}function rt(t,e,n,r){var i,s,o,a=[],l=e.firstChild,c=0,u=t.aoColumns,h=t._rowReadObject;r=void 0!==r?r:h?{}:[];var d=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(-1!==n){var i=t.substring(n+1);Z(t)(r,e.getAttribute(i))}}},f=function(t){void 0!==n&&n!==c||(s=u[c],o=t.innerHTML.trim(),s&&s._bAttrSrc?(Z(s.mData._)(r,o),d(s.mData.sort,t),d(s.mData.type,t),d(s.mData.filter,t)):h?(s._setter||(s._setter=Z(s.mData)),s._setter(r,o)):r[c]=o);c++};if(l)for(;l;)"TD"!=(i=l.nodeName.toUpperCase())&&"TH"!=i||(f(l),a.push(l)),l=l.nextSibling;else for(var p=0,v=(a=e.anCells).length;p<v;p++)f(a[p]);var g=e.firstChild?e:e.nTr;if(g){var b=g.getAttribute("id");b&&Z(t.rowId)(r,b)}return{data:r,cells:a}}function it(t,e,n,r){var i,s,a,l,c,u,h=t.aoData[e],d=h._aData,f=[];if(null===h.nTr){for(i=n||document.createElement("tr"),h.nTr=i,h.anCells=f,i._DT_RowIndex=e,st(t,h),l=0,c=t.aoColumns.length;l<c;l++)a=t.aoColumns[l],(s=(u=!n)?document.createElement(a.sCellType):r[l])||le(t,0,"Incorrect column count",18),s._DT_CellIndex={row:e,column:l},f.push(s),!u&&(!a.mRender&&a.mData===l||o.isPlainObject(a.mData)&&a.mData._===l+".display")||(s.innerHTML=J(t,e,l,"display")),a.sClass&&(s.className+=" "+a.sClass),a.bVisible&&!n?i.appendChild(s):!a.bVisible&&n&&s.parentNode.removeChild(s),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,s,J(t,e,l),d,e,l);fe(t,"aoRowCreatedCallback",null,[i,d,e,f])}}function st(t,e){var n=e.nTr,r=e._aData;if(n){var i=t.rowIdFn(r);if(i&&(n.id=i),r.DT_RowClass){var s=r.DT_RowClass.split(" ");e.__rowc=e.__rowc?T(e.__rowc.concat(s)):s,o(n).removeClass(e.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&o(n).attr(r.DT_RowAttr),r.DT_RowData&&o(n).data(r.DT_RowData)}}function ot(t){var e,n,r,i,s,a=t.nTHead,l=t.nTFoot,c=0===o("th, td",a).length,u=t.oClasses,h=t.aoColumns;for(c&&(i=o("<tr/>").appendTo(a)),e=0,n=h.length;e<n;e++)s=h[e],r=o(s.nTh).addClass(s.sClass),c&&r.appendTo(i),t.oFeatures.bSort&&(r.addClass(s.sSortingClass),!1!==s.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),ee(t,s.nTh,e))),s.sTitle!=r[0].innerHTML&&r.html(s.sTitle),ve(t,"header")(t,r,s,u);if(c&&ht(t.aoHeader,a),o(a).children("tr").children("th, td").addClass(u.sHeaderTH),o(l).children("tr").children("th, td").addClass(u.sFooterTH),null!==l){var d=t.aoFooter[0];for(e=0,n=d.length;e<n;e++)(s=h[e])?(s.nTf=d[e].cell,s.sClass&&o(s.nTf).addClass(s.sClass)):le(t,0,"Incorrect column count",18)}}function at(t,e,n){var r,i,s,a,l,c,u,h,d,f=[],p=[],v=t.aoColumns.length;if(e){for(void 0===n&&(n=!1),r=0,i=e.length;r<i;r++){for(f[r]=e[r].slice(),f[r].nTr=e[r].nTr,s=v-1;s>=0;s--)t.aoColumns[s].bVisible||n||f[r].splice(s,1);p.push([])}for(r=0,i=f.length;r<i;r++){if(u=f[r].nTr)for(;c=u.firstChild;)u.removeChild(c);for(s=0,a=f[r].length;s<a;s++)if(h=1,d=1,void 0===p[r][s]){for(u.appendChild(f[r][s].cell),p[r][s]=1;void 0!==f[r+h]&&f[r][s].cell==f[r+h][s].cell;)p[r+h][s]=1,h++;for(;void 0!==f[r][s+d]&&f[r][s].cell==f[r][s+d].cell;){for(l=0;l<h;l++)p[r+l][s+d]=1;d++}o(f[r][s].cell).attr("rowspan",h).attr("colspan",d)}}}}function lt(t,e){!function(t){var e="ssp"==ge(t),n=t.iInitDisplayStart;void 0!==n&&-1!==n&&(t._iDisplayStart=e?n:n>=t.fnRecordsDisplay()?0:n,t.iInitDisplayStart=-1)}(t);var n=fe(t,"aoPreDrawCallback","preDraw",[t]);if(-1===o.inArray(!1,n)){var r=[],i=0,s=t.asStripeClasses,a=s.length,l=t.oLanguage,c="ssp"==ge(t),u=t.aiDisplay,h=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDrawing=!0,t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,Ut(t,!1);else if(c){if(!t.bDestroying&&!e)return void pt(t)}else t.iDraw++;if(0!==u.length)for(var f=c?0:h,p=c?t.aoData.length:d,v=f;v<p;v++){var g=u[v],b=t.aoData[g];null===b.nTr&&it(t,g);var m=b.nTr;if(0!==a){var y=s[i%a];b._sRowStripe!=y&&(o(m).removeClass(b._sRowStripe).addClass(y),b._sRowStripe=y)}fe(t,"aoRowCallback",null,[m,b._aData,i,v,g]),r.push(m),i++}else{var S=l.sZeroRecords;1==t.iDraw&&"ajax"==ge(t)?S=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(S=l.sEmptyTable),r[0]=o("<tr/>",{class:a?s[0]:""}).append(o("<td />",{valign:"top",colSpan:U(t),class:t.oClasses.sRowEmpty}).html(S))[0]}fe(t,"aoHeaderCallback","header",[o(t.nTHead).children("tr")[0],K(t),h,d,u]),fe(t,"aoFooterCallback","footer",[o(t.nTFoot).children("tr")[0],K(t),h,d,u]);var w=o(t.nTBody);w.children().detach(),w.append(o(r)),fe(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else Ut(t,!1)}function ct(t,e){var n=t.oFeatures,r=n.bSort,i=n.bFilter;r&&Zt(t),i?yt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,lt(t),t._drawHold=!1}function ut(t){var e=t.oClasses,n=o(t.nTable),r=o("<div/>").insertBefore(n),i=t.oFeatures,s=o("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var l,c,u,h,d,f,p=t.sDom.split(""),v=0;v<p.length;v++){if(l=null,"<"==(c=p[v])){if(u=o("<div/>")[0],"'"==(h=p[v+1])||'"'==h){for(d="",f=2;p[v+f]!=h;)d+=p[v+f],f++;if("H"==d?d=e.sJUIHeader:"F"==d&&(d=e.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==d.charAt(0)?u.id=d.substr(1,d.length-1):u.className=d;v+=f}s.append(u),s=o(u)}else if(">"==c)s=s.parent();else if("l"==c&&i.bPaginate&&i.bLengthChange)l=Ft(t);else if("f"==c&&i.bFilter)l=mt(t);else if("r"==c&&i.bProcessing)l=Mt(t);else if("t"==c)l=Bt(t);else if("i"==c&&i.bInfo)l=It(t);else if("p"==c&&i.bPaginate)l=Nt(t);else if(0!==a.ext.feature.length)for(var b=a.ext.feature,m=0,y=b.length;m<y;m++)if(c==b[m].cFeature){l=b[m].fnInit(t);break}if(l){var S=t.aanFeatures;S[c]||(S[c]=[]),S[c].push(l),s.append(l)}}r.replaceWith(s),t.nHolding=null}function ht(t,e){var n,r,i,s,a,l,c,u,h,d,f=o(e).children("tr"),p=function(t,e,n){for(var r=t[e];r[n];)n++;return n};for(t.splice(0,t.length),i=0,l=f.length;i<l;i++)t.push([]);for(i=0,l=f.length;i<l;i++)for(0,r=(n=f[i]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=(u=1*r.getAttribute("colspan"))&&0!==u&&1!==u?u:1,h=(h=1*r.getAttribute("rowspan"))&&0!==h&&1!==h?h:1,c=p(t,i,0),d=1===u,a=0;a<u;a++)for(s=0;s<h;s++)t[i+s][c+a]={cell:r,unique:d},t[i+s].nTr=n;r=r.nextSibling}}function dt(t,e,n){var r=[];n||(n=t.aoHeader,e&&ht(n=[],e));for(var i=0,s=n.length;i<s;i++)for(var o=0,a=n[i].length;o<a;o++)!n[i][o].unique||r[o]&&t.bSortCellsTop||(r[o]=n[i][o].cell);return r}function ft(t,e,n){if(fe(t,"aoServerParams","serverParams",[e]),e&&Array.isArray(e)){var r={},i=/(.*?)\[\]$/;o.each(e,(function(t,e){var n=e.name.match(i);if(n){var s=n[0];r[s]||(r[s]=[]),r[s].push(e.value)}else r[e.name]=e.value})),e=r}var s,a=t.ajax,l=t.oInstance,c=function(e){var r=t.jqXHR?t.jqXHR.status:null;(null===e||"number"==typeof r&&204==r)&&bt(t,e={},[]);var i=e.error||e.sError;i&&le(t,0,i),t.json=e,fe(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(o.isPlainObject(a)&&a.data){var u="function"==typeof(s=a.data)?s(e,t):s;e="function"==typeof s&&u?u:o.extend(!0,e,u),delete a.data}var h={data:e,success:c,dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n,r){var i=fe(t,null,"xhr",[t,null,t.jqXHR]);-1===o.inArray(!0,i)&&("parsererror"==n?le(t,0,"Invalid JSON response",1):4===e.readyState&&le(t,0,"Ajax error",7)),Ut(t,!1)}};t.oAjaxData=e,fe(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,o.map(e,(function(t,e){return{name:e,value:t}})),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=o.ajax(o.extend(h,{url:a||t.sAjaxSource})):"function"==typeof a?t.jqXHR=a.call(l,e,c,t):(t.jqXHR=o.ajax(o.extend(h,a)),a.data=s)}function pt(t){t.iDraw++,Ut(t,!0);var e=t._drawHold;ft(t,vt(t),(function(n){t._drawHold=e,gt(t,n),t._drawHold=!1}))}function vt(t){var e,n,r,i,s=t.aoColumns,l=s.length,c=t.oFeatures,u=t.oPreviousSearch,h=t.aoPreSearchCols,d=[],f=Qt(t),p=t._iDisplayStart,v=!1!==c.bPaginate?t._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",t.iDraw),g("iColumns",l),g("sColumns",y(s,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",v);var b={draw:t.iDraw,columns:[],order:[],start:p,length:v,search:{value:u.sSearch,regex:u.bRegex}};for(e=0;e<l;e++)r=s[e],i=h[e],n="function"==typeof r.mData?"function":r.mData,b.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:i.sSearch,regex:i.bRegex}}),g("mDataProp_"+e,n),c.bFilter&&(g("sSearch_"+e,i.sSearch),g("bRegex_"+e,i.bRegex),g("bSearchable_"+e,r.bSearchable)),c.bSort&&g("bSortable_"+e,r.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(o.each(f,(function(t,e){b.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)})),g("iSortingCols",f.length));var m=a.ext.legacy.ajax;return null===m?t.sAjaxSource?d:b:m?d:b}function gt(t,e){var n=function(t,n){return void 0!==e[t]?e[t]:e[n]},r=bt(t,e),i=n("sEcho","draw"),s=n("iTotalRecords","recordsTotal"),o=n("iTotalDisplayRecords","recordsFiltered");if(void 0!==i){if(1*i<t.iDraw)return;t.iDraw=1*i}r||(r=[]),tt(t),t._iRecordsTotal=parseInt(s,10),t._iRecordsDisplay=parseInt(o,10);for(var a=0,l=r.length;a<l;a++)z(t,r[a]);t.aiDisplay=t.aiDisplayMaster.slice(),lt(t,!0),t._bInitComplete||jt(t,e),Ut(t,!1)}function bt(t,e,n){var r=o.isPlainObject(t.ajax)&&void 0!==t.ajax.dataSrc?t.ajax.dataSrc:t.sAjaxDataProp;if(!n)return"data"===r?e.aaData||e[r]:""!==r?Q(r)(e):e;Z(r)(e,n)}function mt(t){var e=t.oClasses,n=t.sTableId,r=t.oLanguage,i=t.oPreviousSearch,s=t.aanFeatures,a='<input type="search" class="'+e.sFilterInput+'"/>',l=r.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",a):l+a;var c=o("<div/>",{id:s.f?null:n+"_filter",class:e.sFilter}).append(o("<label/>").append(l)),u=function(e){s.f;var n=this.value?this.value:"";i.return&&"Enter"!==e.key||n!=i.sSearch&&(yt(t,{sSearch:n,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive,return:i.return}),t._iDisplayStart=0,lt(t))},h=null!==t.searchDelay?t.searchDelay:"ssp"===ge(t)?400:0,d=o("input",c).val(i.sSearch).attr("placeholder",r.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?Jt(u,h):u).on("mouseup.DT",(function(t){setTimeout((function(){u.call(d[0],t)}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",n);return o(t.nTable).on("search.dt.DT",(function(e,n){if(t===n)try{d[0]!==document.activeElement&&d.val(i.sSearch)}catch(t){}})),c[0]}function yt(t,e,n){var r=t.oPreviousSearch,i=t.aoPreSearchCols,s=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive,r.return=t.return},o=function(t){return void 0!==t.bEscapeRegex?!t.bEscapeRegex:t.bRegex};if(q(t),"ssp"!=ge(t)){_t(t,e.sSearch,n,o(e),e.bSmart,e.bCaseInsensitive),s(e);for(var a=0;a<i.length;a++)wt(t,i[a].sSearch,a,o(i[a]),i[a].bSmart,i[a].bCaseInsensitive);St(t)}else s(e);t.bFiltered=!0,fe(t,null,"search",[t])}function St(t){for(var e,n,r=a.ext.search,i=t.aiDisplay,s=0,l=r.length;s<l;s++){for(var c=[],u=0,h=i.length;u<h;u++)n=i[u],e=t.aoData[n],r[s](t,e._aFilterData,n,e._aData,u)&&c.push(n);i.length=0,o.merge(i,c)}}function wt(t,e,n,r,i,s){if(""!==e){for(var o,a=[],l=t.aiDisplay,c=Ct(e,r,i,s),u=0;u<l.length;u++)o=t.aoData[l[u]]._aFilterData[n],c.test(o)&&a.push(l[u]);t.aiDisplay=a}}function _t(t,e,n,r,i,s){var o,l,c,u=Ct(e,r,i,s),h=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,f=[];if(0!==a.ext.search.length&&(n=!0),l=kt(t),e.length<=0)t.aiDisplay=d.slice();else{for((l||n||r||h.length>e.length||0!==e.indexOf(h)||t.bSorted)&&(t.aiDisplay=d.slice()),o=t.aiDisplay,c=0;c<o.length;c++)u.test(t.aoData[o[c]]._sFilterRow)&&f.push(o[c]);t.aiDisplay=f}}function Ct(t,e,n,r){if(t=e?t:Tt(t),n){var i=o.map(t.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}else if(""===t.charAt(0)){e=t.match(/^\u201C(.*)\u201D$/);t=e?e[1]:t}return t.replace('"',"")}));t="^(?=.*?"+i.join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}var Tt=a.util.escapeRegex,Dt=o("<div>")[0],xt=void 0!==Dt.textContent;function kt(t){var e,n,r,i,s,o,a,l=t.aoColumns,c=!1;for(e=0,r=t.aoData.length;e<r;e++)if(!(a=t.aoData[e])._aFilterData){for(s=[],n=0,i=l.length;n<i;n++)l[n].bSearchable?(null===(o=J(t,e,n,"filter"))&&(o=""),"string"!=typeof o&&o.toString&&(o=o.toString())):o="",o.indexOf&&-1!==o.indexOf("&")&&(Dt.innerHTML=o,o=xt?Dt.textContent:Dt.innerText),o.replace&&(o=o.replace(/[\r\n\u2028]/g,"")),s.push(o);a._aFilterData=s,a._sFilterRow=s.join("  "),c=!0}return c}function At(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function Pt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function It(t){var e=t.sTableId,n=t.aanFeatures.i,r=o("<div/>",{class:t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:Lt,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),o(t.nTable).attr("aria-describedby",e+"_info")),r[0]}function Lt(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,r=t._iDisplayStart+1,i=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l=Rt(t,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,r,i,s,a,l)),o(e).html(l)}}function Rt(t,e){var n=t.fnFormatNumber,r=t._iDisplayStart+1,i=t._iDisplayLength,s=t.fnRecordsDisplay(),o=-1===i;return e.replace(/_START_/g,n.call(t,r)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,s)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(s/i)))}function Ot(t){var e,n,r,i=t.iInitDisplayStart,s=t.aoColumns,o=t.oFeatures,a=t.bDeferLoading;if(t.bInitialised){for(ut(t),ot(t),at(t,t.aoHeader),at(t,t.aoFooter),Ut(t,!0),o.bAutoWidth&&Xt(t),e=0,n=s.length;e<n;e++)(r=s[e]).sWidth&&(r.nTh.style.width=Yt(r.sWidth));fe(t,null,"preInit",[t]),ct(t);var l=ge(t);("ssp"!=l||a)&&("ajax"==l?ft(t,[],(function(n){var r=bt(t,n);for(e=0;e<r.length;e++)z(t,r[e]);t.iInitDisplayStart=i,ct(t),Ut(t,!1),jt(t,n)})):(Ut(t,!1),jt(t)))}else setTimeout((function(){Ot(t)}),200)}function jt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&N(t),fe(t,null,"plugin-init",[t,e]),fe(t,"aoInitComplete","init",[t,e])}function Et(t,e){var n=parseInt(e,10);t._iDisplayLength=n,pe(t),fe(t,null,"length",[t,n])}function Ft(t){for(var e=t.oClasses,n=t.sTableId,r=t.aLengthMenu,i=Array.isArray(r[0]),s=i?r[0]:r,a=i?r[1]:r,l=o("<select/>",{name:n+"_length","aria-controls":n,class:e.sLengthSelect}),c=0,u=s.length;c<u;c++)l[0][c]=new Option("number"==typeof a[c]?t.fnFormatNumber(a[c]):a[c],s[c]);var h=o("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(h[0].id=n+"_length"),h.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),o("select",h).val(t._iDisplayLength).on("change.DT",(function(e){Et(t,o(this).val()),lt(t)})),o(t.nTable).on("length.dt.DT",(function(e,n,r){t===n&&o("select",h).val(r)})),h[0]}function Nt(t){var e=t.sPaginationType,n=a.ext.pager[e],r="function"==typeof n,i=function(t){lt(t)},s=o("<div/>").addClass(t.oClasses.sPaging+e)[0],l=t.aanFeatures;return r||n.fnInit(t,s,i),l.p||(s.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(r){var e,s,o=t._iDisplayStart,a=t._iDisplayLength,c=t.fnRecordsDisplay(),u=-1===a,h=u?0:Math.ceil(o/a),d=u?1:Math.ceil(c/a),f=n(h,d);for(e=0,s=l.p.length;e<s;e++)ve(t,"pageButton")(t,l.p[e],e,f,h,d)}else n.fnUpdate(t,i)},sName:"pagination"})),s}function Ht(t,e,n){var r=t._iDisplayStart,i=t._iDisplayLength,s=t.fnRecordsDisplay();0===s||-1===i?r=0:"number"==typeof e?(r=e*i)>s&&(r=0):"first"==e?r=0:"previous"==e?(r=i>=0?r-i:0)<0&&(r=0):"next"==e?r+i<s&&(r+=i):"last"==e?r=Math.floor((s-1)/i)*i:le(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==r;return t._iDisplayStart=r,o?(fe(t,null,"page",[t]),n&&lt(t)):fe(t,null,"page-nc",[t]),o}function Mt(t){return o("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing,role:"status"}).html(t.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(t.nTable)[0]}function Ut(t,e){t.oFeatures.bProcessing&&o(t.aanFeatures.r).css("display",e?"block":"none"),fe(t,null,"processing",[t,e])}function Bt(t){var e=o(t.nTable),n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var r=n.sX,i=n.sY,s=t.oClasses,a=e.children("caption"),l=a.length?a[0]._captionSide:null,c=o(e[0].cloneNode(!1)),u=o(e[0].cloneNode(!1)),h=e.children("tfoot"),d="<div/>",f=function(t){return t?Yt(t):null};h.length||(h=null);var p=o(d,{class:s.sScrollWrapper}).append(o(d,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?f(r):"100%"}).append(o(d,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(e.children("thead"))))).append(o(d,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:f(r)}).append(e));h&&p.append(o(d,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?f(r):"100%"}).append(o(d,{class:s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(e.children("tfoot")))));var v=p.children(),g=v[0],b=v[1],m=h?v[2]:null;return r&&o(b).on("scroll.DT",(function(t){var e=this.scrollLeft;g.scrollLeft=e,h&&(m.scrollLeft=e)})),o(b).css("max-height",i),n.bCollapse||o(b).css("height",i),t.nScrollHead=g,t.nScrollBody=b,t.nScrollFoot=m,t.aoDrawCallback.push({fn:qt,sName:"scrolling"}),p[0]}function qt(t){var e,n,r,i,s,a,l,c,u,h=t.oScroll,d=h.sX,f=h.sXInner,p=h.sY,v=h.iBarWidth,g=o(t.nScrollHead),b=g[0].style,m=g.children("div"),S=m[0].style,w=m.children("table"),_=t.nScrollBody,C=o(_),T=_.style,D=o(t.nScrollFoot).children("div"),x=D.children("table"),k=o(t.nTHead),A=o(t.nTable),P=A[0],I=P.style,L=t.nTFoot?o(t.nTFoot):null,R=t.oBrowser,O=R.bScrollOversize,j=(y(t.aoColumns,"nTh"),[]),E=[],F=[],M=[],U=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},B=_.scrollHeight>_.clientHeight;if(t.scrollBarVis!==B&&void 0!==t.scrollBarVis)return t.scrollBarVis=B,void N(t);t.scrollBarVis=B,A.children("thead, tfoot").remove(),L&&(a=L.clone().prependTo(A),n=L.find("tr"),i=a.find("tr"),a.find("[id]").removeAttr("id")),s=k.clone().prependTo(A),e=k.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),s.find("[id]").removeAttr("id"),d||(T.width="100%",g[0].style.width="100%"),o.each(dt(t,s),(function(e,n){l=H(t,e),n.style.width=t.aoColumns[l].sWidth})),L&&Wt((function(t){t.style.width=""}),i),u=A.outerWidth(),""===d?(I.width="100%",O&&(A.find("tbody").height()>_.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Yt(A.outerWidth()-v)),u=A.outerWidth()):""!==f&&(I.width=Yt(f),u=A.outerWidth()),Wt(U,r),Wt((function(t){var e=window.getComputedStyle?window.getComputedStyle(t).width:Yt(o(t).width());F.push(t.innerHTML),j.push(e)}),r),Wt((function(t,e){t.style.width=j[e]}),e),o(r).css("height",0),L&&(Wt(U,i),Wt((function(t){M.push(t.innerHTML),E.push(Yt(o(t).css("width")))}),i),Wt((function(t,e){t.style.width=E[e]}),n),o(i).height(0)),Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+F[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=j[e]}),r),L&&Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+M[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=E[e]}),i),Math.round(A.outerWidth())<Math.round(u)?(c=_.scrollHeight>_.offsetHeight||"scroll"==C.css("overflow-y")?u+v:u,O&&(_.scrollHeight>_.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Yt(c-v)),""!==d&&""===f||le(t,1,"Possible column misalignment",6)):c="100%",T.width=Yt(c),b.width=Yt(c),L&&(t.nScrollFoot.style.width=Yt(c)),p||O&&(T.height=Yt(P.offsetHeight+v));var q=A.outerWidth();w[0].style.width=Yt(q),S.width=Yt(q);var W=A.height()>_.clientHeight||"scroll"==C.css("overflow-y"),z="padding"+(R.bScrollbarLeft?"Left":"Right");S[z]=W?v+"px":"0px",L&&(x[0].style.width=Yt(q),D[0].style.width=Yt(q),D[0].style[z]=W?v+"px":"0px"),A.children("colgroup").insertBefore(A.children("thead")),C.trigger("scroll"),!t.bSorted&&!t.bFiltered||t._drawHold||(_.scrollTop=0)}function Wt(t,e,n){for(var r,i,s=0,o=0,a=e.length;o<a;){for(r=e[o].firstChild,i=n?n[o].firstChild:null;r;)1===r.nodeType&&(n?t(r,i,s):t(r,s),s++),r=r.nextSibling,i=n?i.nextSibling:null;o++}}var zt=/<.*?>/g;function Xt(t){var e,n,r,i=t.nTable,s=t.aoColumns,a=t.oScroll,l=a.sY,c=a.sX,u=a.sXInner,h=s.length,d=B(t,"bVisible"),f=o("th",t.nTHead),p=i.getAttribute("width"),v=i.parentNode,g=!1,b=t.oBrowser,m=b.bScrollOversize,S=i.style.width;S&&-1!==S.indexOf("%")&&(p=S);var w=Vt(y(s,"sWidthOrig"),v);for(e=0;e<d.length;e++)null!==(n=s[d[e]]).sWidth&&(n.sWidth=w[e],g=!0);if(m||!g&&!c&&!l&&h==U(t)&&h==f.length)for(e=0;e<h;e++){var _=H(t,e);null!==_&&(s[_].sWidth=Yt(f.eq(e).width()))}else{var C=o(i).clone().css("visibility","hidden").removeAttr("id");C.find("tbody tr").remove();var T=o("<tr/>").appendTo(C.find("tbody"));for(C.find("thead, tfoot").remove(),C.append(o(t.nTHead).clone()).append(o(t.nTFoot).clone()),C.find("tfoot th, tfoot td").css("width",""),f=dt(t,C.find("thead")[0]),e=0;e<d.length;e++)n=s[d[e]],f[e].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?Yt(n.sWidthOrig):"",n.sWidthOrig&&c&&o(f[e]).append(o("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<d.length;e++)n=s[r=d[e]],o($t(t,r)).clone(!1).append(n.sContentPadding).appendTo(T);o("[name]",C).removeAttr("name");var D=o("<div/>").css(c||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(C).appendTo(v);c&&u?C.width(u):c?(C.css("width","auto"),C.removeAttr("width"),C.width()<v.clientWidth&&p&&C.width(v.clientWidth)):l?C.width(v.clientWidth):p&&C.width(p);var x=0;for(e=0;e<d.length;e++){var k=o(f[e]),A=k.outerWidth()-k.width(),P=b.bBounding?Math.ceil(f[e].getBoundingClientRect().width):k.outerWidth();x+=P,s[d[e]].sWidth=Yt(P-A)}i.style.width=Yt(x),D.remove()}if(p&&(i.style.width=Yt(p)),(p||c)&&!t._reszEvt){var I=function(){o(window).on("resize.DT-"+t.sInstance,Jt((function(){N(t)})))};m?setTimeout(I,1e3):I(),t._reszEvt=!0}}var Jt=a.util.throttle;function Vt(t,e){for(var n=[],r=[],i=0;i<t.length;i++)t[i]?n.push(o("<div/>").css("width",Yt(t[i])).appendTo(e||document.body)):n.push(null);for(i=0;i<t.length;i++)r.push(n[i]?n[i][0].offsetWidth:null);return o(n).remove(),r}function $t(t,e){var n=Gt(t,e);if(n<0)return null;var r=t.aoData[n];return r.nTr?r.anCells[e]:o("<td/>").html(J(t,n,e,"display"))[0]}function Gt(t,e){for(var n,r=-1,i=-1,s=0,o=t.aoData.length;s<o;s++)(n=(n=(n=J(t,s,e,"display")+"").replace(zt,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,i=s);return i}function Yt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Qt(t){var e,n,r,i,s,l,c,u=[],h=t.aoColumns,d=t.aaSortingFixed,f=o.isPlainObject(d),p=[],v=function(t){t.length&&!Array.isArray(t[0])?p.push(t):o.merge(p,t)};for(Array.isArray(d)&&v(d),f&&d.pre&&v(d.pre),v(t.aaSorting),f&&d.post&&v(d.post),e=0;e<p.length;e++)for(n=0,r=(i=h[c=p[e][0]].aDataSort).length;n<r;n++)l=h[s=i[n]].sType||"string",void 0===p[e]._idx&&(p[e]._idx=o.inArray(p[e][1],h[s].asSorting)),u.push({src:c,col:s,dir:p[e][1],index:p[e]._idx,type:l,formatter:a.ext.type.order[l+"-pre"]});return u}function Zt(t){var e,n,r,i,s,o=[],l=a.ext.type.order,c=t.aoData,u=(t.aoColumns,0),h=t.aiDisplayMaster;for(q(t),e=0,n=(s=Qt(t)).length;e<n;e++)(i=s[e]).formatter&&u++,re(t,i.col);if("ssp"!=ge(t)&&0!==s.length){for(e=0,r=h.length;e<r;e++)o[h[e]]=e;u===s.length?h.sort((function(t,e){var n,r,i,a,l,u=s.length,h=c[t]._aSortData,d=c[e]._aSortData;for(i=0;i<u;i++)if(0!==(a=(n=h[(l=s[i]).col])<(r=d[l.col])?-1:n>r?1:0))return"asc"===l.dir?a:-a;return(n=o[t])<(r=o[e])?-1:n>r?1:0})):h.sort((function(t,e){var n,r,i,a,u,h=s.length,d=c[t]._aSortData,f=c[e]._aSortData;for(i=0;i<h;i++)if(n=d[(u=s[i]).col],r=f[u.col],0!==(a=(l[u.type+"-"+u.dir]||l["string-"+u.dir])(n,r)))return a;return(n=o[t])<(r=o[e])?-1:n>r?1:0}))}t.bSorted=!0}function Kt(t){for(var e,n,r=t.aoColumns,i=Qt(t),s=t.oLanguage.oAria,o=0,a=r.length;o<a;o++){var l=r[o],c=l.asSorting,u=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),h=l.nTh;h.removeAttribute("aria-sort"),l.bSortable?(i.length>0&&i[0].col==o?(h.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=c[i[0].index+1]||c[0]):n=c[0],e=u+("asc"===n?s.sSortAscending:s.sSortDescending)):e=u,h.setAttribute("aria-label",e)}}function te(t,e,n,r){var i,s=t.aoColumns[e],a=t.aaSorting,l=s.asSorting,c=function(t,e){var n=t._idx;return void 0===n&&(n=o.inArray(t[1],l)),n+1<l.length?n+1:e?null:0};if("number"==typeof a[0]&&(a=t.aaSorting=[a]),n&&t.oFeatures.bSortMulti){var u=o.inArray(e,y(a,"0"));-1!==u?(null===(i=c(a[u],!0))&&1===a.length&&(i=0),null===i?a.splice(u,1):(a[u][1]=l[i],a[u]._idx=i)):(a.push([e,l[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==e?(i=c(a[0]),a.length=1,a[0][1]=l[i],a[0]._idx=i):(a.length=0,a.push([e,l[0]]),a[0]._idx=0);ct(t),"function"==typeof r&&r(t)}function ee(t,e,n,r){var i=t.aoColumns[n];he(e,{},(function(e){!1!==i.bSortable&&(t.oFeatures.bProcessing?(Ut(t,!0),setTimeout((function(){te(t,n,e.shiftKey,r),"ssp"!==ge(t)&&Ut(t,!1)}),0)):te(t,n,e.shiftKey,r))}))}function ne(t){var e,n,r,i=t.aLastSort,s=t.oClasses.sSortColumn,a=Qt(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(e=0,n=i.length;e<n;e++)r=i[e].src,o(y(t.aoData,"anCells",r)).removeClass(s+(e<2?e+1:3));for(e=0,n=a.length;e<n;e++)r=a[e].src,o(y(t.aoData,"anCells",r)).addClass(s+(e<2?e+1:3))}t.aLastSort=a}function re(t,e){var n,r,i,s=t.aoColumns[e],o=a.ext.order[s.sSortDataType];o&&(n=o.call(t.oInstance,t,e,M(t,e)));for(var l=a.ext.type.order[s.sType+"-pre"],c=0,u=t.aoData.length;c<u;c++)(r=t.aoData[c])._aSortData||(r._aSortData=[]),r._aSortData[e]&&!o||(i=o?n[c]:J(t,c,e,"sort"),r._aSortData[e]=l?l(i):i)}function ie(t){if(!t._bLoadingState){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:o.extend(!0,[],t.aaSorting),search:At(t.oPreviousSearch),columns:o.map(t.aoColumns,(function(e,n){return{visible:e.bVisible,search:At(t.aoPreSearchCols[n])}}))};t.oSavedState=e,fe(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,e)}}function se(t,e,n){if(t.oFeatures.bStateSave){var r=t.fnStateLoadCallback.call(t.oInstance,t,(function(e){oe(t,e,n)}));return void 0!==r&&oe(t,r,n),!0}n()}function oe(t,e,n){var r,i,s=t.aoColumns;t._bLoadingState=!0;var l=t._bInitComplete?new a.Api(t):null;if(!e||!e.time)return t._bLoadingState=!1,void n();var c=fe(t,"aoStateLoadParams","stateLoadParams",[t,e]);if(-1!==o.inArray(!1,c))return t._bLoadingState=!1,void n();var u=t.iStateDuration;if(u>0&&e.time<+new Date-1e3*u)return t._bLoadingState=!1,void n();if(e.columns&&s.length!==e.columns.length)return t._bLoadingState=!1,void n();if(t.oLoadedState=o.extend(!0,{},e),void 0!==e.length&&(l?l.page.len(e.length):t._iDisplayLength=e.length),void 0!==e.start&&(null===l?(t._iDisplayStart=e.start,t.iInitDisplayStart=e.start):Ht(t,e.start/t._iDisplayLength)),void 0!==e.order&&(t.aaSorting=[],o.each(e.order,(function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)}))),void 0!==e.search&&o.extend(t.oPreviousSearch,Pt(e.search)),e.columns){for(r=0,i=e.columns.length;r<i;r++){var h=e.columns[r];void 0!==h.visible&&(l?l.column(r).visible(h.visible,!1):s[r].bVisible=h.visible),void 0!==h.search&&o.extend(t.aoPreSearchCols[r],Pt(h.search))}l&&l.columns.adjust()}t._bLoadingState=!1,fe(t,"aoStateLoaded","stateLoaded",[t,e]),n()}function ae(t){var e=a.settings,n=o.inArray(t,y(e,"nTable"));return-1!==n?e[n]:null}function le(t,e,n,r){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,r&&(n+=". For more information about this error, please see https://datatables.net/tn/"+r),e)window.console&&console.log&&console.log(n);else{var i=a.ext,s=i.sErrMode||i.errMode;if(t&&fe(t,null,"error",[t,r,n]),"alert"==s)alert(n);else{if("throw"==s)throw new Error(n);"function"==typeof s&&s(t,r,n)}}}function ce(t,e,n,r){Array.isArray(n)?o.each(n,(function(n,r){Array.isArray(r)?ce(t,e,r[0],r[1]):ce(t,e,r)})):(void 0===r&&(r=n),void 0!==e[n]&&(t[r]=e[n]))}function ue(t,e,n){var r;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],o.isPlainObject(r)?(o.isPlainObject(t[i])||(t[i]={}),o.extend(!0,t[i],r)):n&&"data"!==i&&"aaData"!==i&&Array.isArray(r)?t[i]=r.slice():t[i]=r);return t}function he(t,e,n){o(t).on("click.DT",e,(function(e){o(t).trigger("blur"),n(e)})).on("keypress.DT",e,(function(t){13===t.which&&(t.preventDefault(),n(t))})).on("selectstart.DT",(function(){return!1}))}function de(t,e,n,r){n&&t[e].push({fn:n,sName:r})}function fe(t,e,n,r){var i=[];if(e&&(i=o.map(t[e].slice().reverse(),(function(e,n){return e.fn.apply(t.oInstance,r)}))),null!==n){var s=o.Event(n+".dt"),a=o(t.nTable);a.trigger(s,r),0===a.parents("body").length&&o("body").trigger(s,r),i.push(s.result)}return i}function pe(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),r=t._iDisplayLength;e>=n&&(e=n-r),e-=e%r,(-1===r||e<0)&&(e=0),t._iDisplayStart=e}function ve(t,e){var n=t.renderer,r=a.ext.renderer[e];return o.isPlainObject(n)&&n[e]?r[n[e]]||r._:"string"==typeof n&&r[n]||r._}function ge(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var be=[],me=Array.prototype;e=function(t,n){if(!(this instanceof e))return new e(t,n);var r=[],i=function(t){var e=function(t){var e,n,r=a.settings,i=o.map(r,(function(t,e){return t.nTable}));return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(e=o.inArray(t,i))?[r[e]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=o(t):t instanceof o&&(n=t),n?n.map((function(t){return-1!==(e=o.inArray(this,i))?r[e]:null})).toArray():void 0):[]}(t);e&&r.push.apply(r,e)};if(Array.isArray(t))for(var s=0,l=t.length;s<l;s++)i(t[s]);else i(t);this.context=T(r),n&&o.merge(this,n),this.selector={rows:null,cols:null,opts:null},e.extend(this,this,be)},a.Api=e,o.extend(e.prototype,{any:function(){return 0!==this.count()},concat:me.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var n=this.context;return n.length>t?new e(n[t],this[t]):null},filter:function(t){var n=[];if(me.filter)n=me.filter.call(this,t,this);else for(var r=0,i=this.length;r<i;r++)t.call(this,this[r],r,this)&&n.push(this[r]);return new e(this.context,n)},flatten:function(){var t=[];return new e(this.context,t.concat.apply(t,this.toArray()))},join:me.join,indexOf:me.indexOf||function(t,e){for(var n=e||0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1},iterator:function(t,n,r,i){var s,o,a,l,c,u,h,d,f=[],p=this.context,v=this.selector;for("string"==typeof t&&(i=r,r=n,n=t,t=!1),o=0,a=p.length;o<a;o++){var g=new e(p[o]);if("table"===n)void 0!==(s=r.call(g,p[o],o))&&f.push(s);else if("columns"===n||"rows"===n)void 0!==(s=r.call(g,p[o],this[o],o))&&f.push(s);else if("column"===n||"column-rows"===n||"row"===n||"cell"===n)for(h=this[o],"column-rows"===n&&(u=Te(p[o],v.opts)),l=0,c=h.length;l<c;l++)d=h[l],void 0!==(s="cell"===n?r.call(g,p[o],d.row,d.column,o,l):r.call(g,p[o],d,o,l,u))&&f.push(s)}if(f.length||i){var b=new e(p,t?f.concat.apply([],f):f),m=b.selector;return m.rows=v.rows,m.cols=v.cols,m.opts=v.opts,b}return this},lastIndexOf:me.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var n=[];if(me.map)n=me.map.call(this,t,this);else for(var r=0,i=this.length;r<i;r++)n.push(t.call(this,this[r],r));return new e(this.context,n)},pluck:function(t){var e=a.util.get(t);return this.map((function(t){return e(t)}))},pop:me.pop,push:me.push,reduce:me.reduce||function(t,e){return j(this,t,e,0,this.length,1)},reduceRight:me.reduceRight||function(t,e){return j(this,t,e,this.length-1,-1,-1)},reverse:me.reverse,selector:null,shift:me.shift,slice:function(){return new e(this.context,this)},sort:me.sort,splice:me.splice,toArray:function(){return me.slice.call(this)},to$:function(){return o(this)},toJQuery:function(){return o(this)},unique:function(){return new e(this.context,T(this))},unshift:me.unshift}),e.extend=function(t,n,r){if(r.length&&n&&(n instanceof e||n.__dt_wrapper)){var i,s,o,a=function(t,n,r){return function(){var i=n.apply(t,arguments);return e.extend(i,i,r.methodExt),i}};for(i=0,s=r.length;i<s;i++)n[(o=r[i]).name]="function"===o.type?a(t,o.val,o):"object"===o.type?{}:o.val,n[o.name].__dt_wrapper=!0,e.extend(t,n[o.name],o.propExt)}},e.register=n=function(t,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)e.register(t[r],n);else{var s,a,l,c,u=t.split("."),h=be,d=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].name===e)return t[n];return null};for(s=0,a=u.length;s<a;s++){var f=d(h,l=(c=-1!==u[s].indexOf("()"))?u[s].replace("()",""):u[s]);f||(f={name:l,val:{},methodExt:[],propExt:[],type:"object"},h.push(f)),s===a-1?(f.val=n,f.type="function"==typeof n?"function":o.isPlainObject(n)?"object":"other"):h=c?f.methodExt:f.propExt}}},e.registerPlural=s=function(t,n,r){e.register(t,r),e.register(n,(function(){var t=r.apply(this,arguments);return t===this?this:t instanceof e?t.length?Array.isArray(t[0])?new e(t.context,t[0]):t[0]:void 0:t}))};var ye=function(t,e){if(Array.isArray(t))return o.map(t,(function(t){return ye(t,e)}));if("number"==typeof t)return[e[t]];var n=o.map(e,(function(t,e){return t.nTable}));return o(n).filter(t).map((function(t){var r=o.inArray(this,n);return e[r]})).toArray()};n("tables()",(function(t){return null!=t?new e(ye(t,this.context)):this})),n("table()",(function(t){var n=this.tables(t),r=n.context;return r.length?new e(r[0]):n})),s("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),s("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),s("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),s("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),s("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),n("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?lt(e):("string"==typeof t&&(t="full-hold"!==t),ct(e,!1===t))}))})),n("page()",(function(t){return void 0===t?this.page.info().page:this.iterator("table",(function(e){Ht(e,t)}))})),n("page.info()",(function(t){if(0!==this.context.length){var e=this.context[0],n=e._iDisplayStart,r=e.oFeatures.bPaginate?e._iDisplayLength:-1,i=e.fnRecordsDisplay(),s=-1===r;return{page:s?0:Math.floor(n/r),pages:s?1:Math.ceil(i/r),start:n,end:e.fnDisplayEnd(),length:r,recordsTotal:e.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===ge(e)}}})),n("page.len()",(function(t){return void 0===t?0!==this.context.length?this.context[0]._iDisplayLength:void 0:this.iterator("table",(function(e){Et(e,t)}))}));var Se=function(t,n,r){if(r){var i=new e(t);i.one("draw",(function(){r(i.ajax.json())}))}if("ssp"==ge(t))ct(t,n);else{Ut(t,!0);var s=t.jqXHR;s&&4!==s.readyState&&s.abort(),ft(t,[],(function(e){tt(t);for(var r=bt(t,e),i=0,s=r.length;i<s;i++)z(t,r[i]);ct(t,n),Ut(t,!1)}))}};n("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),n("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),n("ajax.reload()",(function(t,e){return this.iterator("table",(function(n){Se(n,!1===e,t)}))})),n("ajax.url()",(function(t){var e=this.context;if(void 0===t){if(0===e.length)return;return(e=e[0]).ajax?o.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource}return this.iterator("table",(function(e){o.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t}))})),n("ajax.url().load()",(function(t,e){return this.iterator("table",(function(n){Se(n,!1===e,t)}))}));var we=function(e,n,r,i,s){var o,a,l,c,u,h,d=[],f=typeof n;for(n&&"string"!==f&&"function"!==f&&void 0!==n.length||(n=[n]),l=0,c=n.length;l<c;l++)for(u=0,h=(a=n[l]&&n[l].split&&!n[l].match(/[\[\(:]/)?n[l].split(","):[n[l]]).length;u<h;u++)(o=r("string"==typeof a[u]?a[u].trim():a[u]))&&o.length&&(d=d.concat(o));var p=t.selector[e];if(p.length)for(l=0,c=p.length;l<c;l++)d=p[l](i,s,d);return T(d)},_e=function(t){return t||(t={}),t.filter&&void 0===t.search&&(t.search=t.filter),o.extend({search:"none",order:"current",page:"all"},t)},Ce=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Te=function(t,e){var n,r=[],i=t.aiDisplay,s=t.aiDisplayMaster,a=e.search,l=e.order,c=e.page;if("ssp"==ge(t))return"removed"===a?[]:w(0,s.length);if("current"==c)for(h=t._iDisplayStart,d=t.fnDisplayEnd();h<d;h++)r.push(i[h]);else if("current"==l||"applied"==l){if("none"==a)r=s.slice();else if("applied"==a)r=i.slice();else if("removed"==a){for(var u={},h=0,d=i.length;h<d;h++)u[i[h]]=null;r=o.map(s,(function(t){return u.hasOwnProperty(t)?null:t}))}}else if("index"==l||"original"==l)for(h=0,d=t.aoData.length;h<d;h++)("none"==a||-1===(n=o.inArray(h,i))&&"removed"==a||n>=0&&"applied"==a)&&r.push(h);return r};n("rows()",(function(t,e){void 0===t?t="":o.isPlainObject(t)&&(e=t,t=""),e=_e(e);var n=this.iterator("table",(function(n){return function(t,e,n){var r;return we("row",e,(function(e){var i=v(e),s=t.aoData;if(null!==i&&!n)return[i];if(r||(r=Te(t,n)),null!==i&&-1!==o.inArray(i,r))return[i];if(null==e||""===e)return r;if("function"==typeof e)return o.map(r,(function(t){var n=s[t];return e(t,n._aData,n.nTr)?t:null}));if(e.nodeName){var a=e._DT_RowIndex,l=e._DT_CellIndex;if(void 0!==a)return s[a]&&s[a].nTr===e?[a]:[];if(l)return s[l.row]&&s[l.row].nTr===e.parentNode?[l.row]:[];var c=o(e).closest("*[data-dt-row]");return c.length?[c.data("dt-row")]:[]}if("string"==typeof e&&"#"===e.charAt(0)){var u=t.aIds[e.replace(/^#/,"")];if(void 0!==u)return[u.idx]}var h=_(S(t.aoData,r,"nTr"));return o(h).filter(e).map((function(){return this._DT_RowIndex})).toArray()}),t,n)}(n,t,e)}),1);return n.selector.rows=t,n.selector.opts=e,n})),n("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||void 0}),1)})),n("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return S(t.aoData,e,"_aData")}),1)})),s("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,n){var r=e.aoData[n];return"search"===t?r._aFilterData:r._aSortData}),1)})),s("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,n){nt(e,n,t)}))})),s("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),s("rows().ids()","row().id()",(function(t){for(var n=[],r=this.context,i=0,s=r.length;i<s;i++)for(var o=0,a=this[i].length;o<a;o++){var l=r[i].rowIdFn(r[i].aoData[this[i][o]]._aData);n.push((!0===t?"#":"")+l)}return new e(r,n)})),s("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,n,r){var i,s,o,a,l,c,u=e.aoData,h=u[n];for(u.splice(n,1),i=0,s=u.length;i<s;i++)if(c=(l=u[i]).anCells,null!==l.nTr&&(l.nTr._DT_RowIndex=i),null!==c)for(o=0,a=c.length;o<a;o++)c[o]._DT_CellIndex.row=i;et(e.aiDisplayMaster,n),et(e.aiDisplay,n),et(t[r],n,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,pe(e);var d=e.rowIdFn(h._aData);void 0!==d&&delete e.aIds[d]})),this.iterator("table",(function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e})),this})),n("rows.add()",(function(t){var e=this.iterator("table",(function(e){var n,r,i,s=[];for(r=0,i=t.length;r<i;r++)(n=t[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?s.push(X(e,n)[0]):s.push(z(e,n));return s}),1),n=this.rows(-1);return n.pop(),o.merge(n,e),n})),n("row()",(function(t,e){return Ce(this.rows(t,e))})),n("row().data()",(function(t){var e=this.context;if(void 0===t)return e.length&&this.length?e[0].aoData[this[0]]._aData:void 0;var n=e[0].aoData[this[0]];return n._aData=t,Array.isArray(t)&&n.nTr&&n.nTr.id&&Z(e[0].rowId)(t,n.nTr.id),nt(e[0],this[0],"data"),this})),n("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),n("row.add()",(function(t){t instanceof o&&t.length&&(t=t[0]);var e=this.iterator("table",(function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?X(e,t)[0]:z(e,t)}));return this.row(e[0])})),o(document).on("plugin-init.dt",(function(t,n){var r=new e(n),i="on-plugin-init",s="stateSaveParams."+i,a="destroy. "+i;r.on(s,(function(t,e,n){for(var r=e.rowIdFn,i=e.aoData,s=[],o=0;o<i.length;o++)i[o]._detailsShow&&s.push("#"+r(i[o]._aData));n.childRows=s})),r.on(a,(function(){r.off(s+" "+a)}));var l=r.state.loaded();l&&l.childRows&&r.rows(o.map(l.childRows,(function(t){return t.replace(/:/g,"\\:")}))).every((function(){fe(n,null,"requestChild",[this])}))}));var De=a.util.throttle((function(t){ie(t[0])}),500),xe=function(t,e){var n=t.context;if(n.length){var r=n[0].aoData[void 0!==e?e:t[0]];r&&r._details&&(r._details.remove(),r._detailsShow=void 0,r._details=void 0,o(r.nTr).removeClass("dt-hasChild"),De(n))}},ke=function(t,e){var n=t.context;if(n.length&&t.length){var r=n[0].aoData[t[0]];r._details&&(r._detailsShow=e,e?(r._details.insertAfter(r.nTr),o(r.nTr).addClass("dt-hasChild")):(r._details.detach(),o(r.nTr).removeClass("dt-hasChild")),fe(n[0],null,"childRow",[e,t.row(t[0])]),Ae(n[0]),De(n))}},Ae=function(t){var n=new e(t),r=".dt.DT_details",i="draw"+r,s="column-sizing"+r,a="destroy"+r,l=t.aoData;n.off(i+" "+s+" "+a),y(l,"_details").length>0&&(n.on(i,(function(e,r){t===r&&n.rows({page:"current"}).eq(0).each((function(t){var e=l[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),n.on(s,(function(e,n,r,i){if(t===n)for(var s,a=U(n),c=0,u=l.length;c<u;c++)(s=l[c])._details&&s._details.each((function(){var t=o(this).children("td");1==t.length&&t.attr("colspan",a)}))})),n.on(a,(function(e,r){if(t===r)for(var i=0,s=l.length;i<s;i++)l[i]._details&&xe(n,i)})))},Pe="row().child",Ie=Pe+"()";n(Ie,(function(t,e){var n=this.context;return void 0===t?n.length&&this.length?n[0].aoData[this[0]]._details:void 0:(!0===t?this.child.show():!1===t?xe(this):n.length&&this.length&&function(t,e,n,r){var i=[],s=function(e,n){if(Array.isArray(e)||e instanceof o)for(var r=0,a=e.length;r<a;r++)s(e[r],n);else if(e.nodeName&&"tr"===e.nodeName.toLowerCase())i.push(e);else{var l=o("<tr><td></td></tr>").addClass(n);o("td",l).addClass(n).html(e)[0].colSpan=U(t),i.push(l[0])}};s(n,r),e._details&&e._details.detach(),e._details=o(i),e._detailsShow&&e._details.insertAfter(e.nTr)}(n[0],n[0].aoData[this[0]],t,e),this)})),n([Pe+".show()",Ie+".show()"],(function(t){return ke(this,!0),this})),n([Pe+".hide()",Ie+".hide()"],(function(){return ke(this,!1),this})),n([Pe+".remove()",Ie+".remove()"],(function(){return xe(this),this})),n(Pe+".isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Le=/^([^:]+):(name|visIdx|visible)$/,Re=function(t,e,n,r,i){for(var s=[],o=0,a=i.length;o<a;o++)s.push(J(t,i[o],e));return s};n("columns()",(function(t,e){void 0===t?t="":o.isPlainObject(t)&&(e=t,t=""),e=_e(e);var n=this.iterator("table",(function(n){return function(t,e,n){var r=t.aoColumns,i=y(r,"sName"),s=y(r,"nTh");return we("column",e,(function(e){var a=v(e);if(""===e)return w(r.length);if(null!==a)return[a>=0?a:r.length+a];if("function"==typeof e){var l=Te(t,n);return o.map(r,(function(n,r){return e(r,Re(t,r,0,0,l),s[r])?r:null}))}var c="string"==typeof e?e.match(Le):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var h=o.map(r,(function(t,e){return t.bVisible?e:null}));return[h[h.length+u]]}return[H(t,u)];case"name":return o.map(i,(function(t,e){return t===c[1]?e:null}));default:return[]}if(e.nodeName&&e._DT_CellIndex)return[e._DT_CellIndex.column];var d=o(s).filter(e).map((function(){return o.inArray(this,s)})).toArray();if(d.length||!e.nodeName)return d;var f=o(e).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]}),t,n)}(n,t,e)}),1);return n.selector.cols=t,n.selector.opts=e,n})),s("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),s("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),s("columns().data()","column().data()",(function(){return this.iterator("column-rows",Re,1)})),s("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),s("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,n,r,i,s){return S(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",n)}),1)})),s("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,n,r,i){return S(t.aoData,i,"anCells",e)}),1)})),s("columns().visible()","column().visible()",(function(t,e){var n=this,r=this.iterator("column",(function(e,n){if(void 0===t)return e.aoColumns[n].bVisible;!function(t,e,n){var r,i,s,a,l=t.aoColumns,c=l[e],u=t.aoData;if(void 0===n)return c.bVisible;if(c.bVisible!==n){if(n){var h=o.inArray(!0,y(l,"bVisible"),e+1);for(i=0,s=u.length;i<s;i++)a=u[i].nTr,r=u[i].anCells,a&&a.insertBefore(r[e],r[h]||null)}else o(y(t.aoData,"anCells",e)).detach();c.bVisible=n}}(e,n,t)}));return void 0!==t&&this.iterator("table",(function(r){at(r,r.aoHeader),at(r,r.aoFooter),r.aiDisplay.length||o(r.nTBody).find("td[colspan]").attr("colspan",U(r)),ie(r),n.iterator("column",(function(n,r){fe(n,null,"column-visibility",[n,r,t,e])})),(void 0===e||e)&&n.columns.adjust()})),r})),s("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,n){return"visible"===t?M(e,n):n}),1)})),n("columns.adjust()",(function(){return this.iterator("table",(function(t){N(t)}),1)})),n("column.index()",(function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return H(n,e);if("fromData"===t||"toVisible"===t)return M(n,e)}})),n("column()",(function(t,e){return Ce(this.columns(t,e))}));n("cells()",(function(t,e,n){if(o.isPlainObject(t)&&(void 0===t.row?(n=t,t=null):(n=e,e=null)),o.isPlainObject(e)&&(n=e,e=null),null==e)return this.iterator("table",(function(e){return function(t,e,n){var r,i,s,a,l,c,u,h=t.aoData,d=Te(t,n),f=_(S(h,d,"anCells")),p=o(D([],f)),v=t.aoColumns.length;return we("cell",e,(function(e){var n="function"==typeof e;if(null==e||n){for(i=[],s=0,a=d.length;s<a;s++)for(r=d[s],l=0;l<v;l++)c={row:r,column:l},n?(u=h[r],e(c,J(t,r,l),u.anCells?u.anCells[l]:null)&&i.push(c)):i.push(c);return i}if(o.isPlainObject(e))return void 0!==e.column&&void 0!==e.row&&-1!==o.inArray(e.row,d)?[e]:[];var f=p.filter(e).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return f.length||!e.nodeName?f:(u=o(e).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]}),t,n)}(e,t,_e(n))}));var r,i,s,a,l=n?{page:n.page,order:n.order,search:n.search}:{},c=this.columns(e,l),u=this.rows(t,l),h=this.iterator("table",(function(t,e){var n=[];for(r=0,i=u[e].length;r<i;r++)for(s=0,a=c[e].length;s<a;s++)n.push({row:u[e][r],column:c[e][s]});return n}),1),d=n&&n.selected?this.cells(h,n):h;return o.extend(d.selector,{cols:e,rows:t,opts:n}),d})),s("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,n){var r=t.aoData[e];return r&&r.anCells?r.anCells[n]:void 0}),1)})),n("cells().data()",(function(){return this.iterator("cell",(function(t,e,n){return J(t,e,n)}),1)})),s("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,n,r){return e.aoData[n][t][r]}),1)})),s("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,n,r){return J(e,n,r,t)}),1)})),s("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,n){return{row:e,column:n,columnVisible:M(t,n)}}),1)})),s("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,n,r){nt(e,n,t,r)}))})),n("cell()",(function(t,e,n){return Ce(this.cells(t,e,n))})),n("cell().data()",(function(t){var e=this.context,n=this[0];return void 0===t?e.length&&n.length?J(e[0],n[0].row,n[0].column):void 0:(V(e[0],n[0].row,n[0].column,t),nt(e[0],n[0].row,"data",n[0].column),this)})),n("order()",(function(t,e){var n=this.context;return void 0===t?0!==n.length?n[0].aaSorting:void 0:("number"==typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),n("order.listener()",(function(t,e,n){return this.iterator("table",(function(r){ee(r,t,e,n)}))})),n("order.fixed()",(function(t){if(!t){var e=this.context,n=e.length?e[0].aaSortingFixed:void 0;return Array.isArray(n)?{pre:n}:n}return this.iterator("table",(function(e){e.aaSortingFixed=o.extend(!0,{},t)}))})),n(["columns().order()","column().order()"],(function(t){var e=this;return this.iterator("table",(function(n,r){var i=[];o.each(e[r],(function(e,n){i.push([n,t])})),n.aaSorting=i}))})),n("search()",(function(t,e,n,r){var i=this.context;return void 0===t?0!==i.length?i[0].oPreviousSearch.sSearch:void 0:this.iterator("table",(function(i){i.oFeatures.bFilter&&yt(i,o.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===n||n,bCaseInsensitive:null===r||r}),1)}))})),s("columns().search()","column().search()",(function(t,e,n,r){return this.iterator("column",(function(i,s){var a=i.aoPreSearchCols;if(void 0===t)return a[s].sSearch;i.oFeatures.bFilter&&(o.extend(a[s],{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===n||n,bCaseInsensitive:null===r||r}),yt(i,i.oPreviousSearch,1))}))})),n("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),n("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),n("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),n("state.save()",(function(){return this.iterator("table",(function(t){ie(t)}))})),a.use=function(t,e){"lib"===e||t.fn?o=t:"win"==e||t.document?(window=t,document=t.document):"datetime"!==e&&"DateTime"!==t.type||(a.DateTime=t)},a.factory=function(t,e){var n=!1;return t&&t.document&&(window=t,document=t.document),e&&e.fn&&e.fn.jquery&&(o=e,n=!0),n},a.versionCheck=a.fnVersionCheck=function(t){for(var e,n,r=a.version.split("."),i=t.split("."),s=0,o=i.length;s<o;s++)if((e=parseInt(r[s],10)||0)!==(n=parseInt(i[s],10)||0))return e>n;return!0},a.isDataTable=a.fnIsDataTable=function(t){var e=o(t).get(0),n=!1;return t instanceof a.Api||(o.each(a.settings,(function(t,r){var i=r.nScrollHead?o("table",r.nScrollHead)[0]:null,s=r.nScrollFoot?o("table",r.nScrollFoot)[0]:null;r.nTable!==e&&i!==e&&s!==e||(n=!0)})),n)},a.tables=a.fnTables=function(t){var n=!1;o.isPlainObject(t)&&(n=t.api,t=t.visible);var r=o.map(a.settings,(function(e){if(!t||t&&o(e.nTable).is(":visible"))return e.nTable}));return n?new e(r):r},a.camelToHungarian=A,n("$()",(function(t,e){var n=this.rows(e).nodes(),r=o(n);return o([].concat(r.filter(t).toArray(),r.find(t).toArray()))})),o.each(["on","one","off"],(function(t,e){n(e+"()",(function(){var t=Array.prototype.slice.call(arguments);t[0]=o.map(t[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var n=o(this.tables().nodes());return n[e].apply(n,t),this}))})),n("clear()",(function(){return this.iterator("table",(function(t){tt(t)}))})),n("settings()",(function(){return new e(this.context,this.context)})),n("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),n("data()",(function(){return this.iterator("table",(function(t){return y(t.aoData,"_aData")})).flatten()})),n("destroy()",(function(t){return t=t||!1,this.iterator("table",(function(n){var r,i=n.oClasses,s=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,h=o(s),d=o(l),f=o(n.nTableWrapper),p=o.map(n.aoData,(function(t){return t.nTr}));n.bDestroying=!0,fe(n,"aoDestroyCallback","destroy",[n]),t||new e(n).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),o(window).off(".DT-"+n.sInstance),s!=c.parentNode&&(h.children("thead").detach(),h.append(c)),u&&s!=u.parentNode&&(h.children("tfoot").detach(),h.append(u)),n.aaSorting=[],n.aaSortingFixed=[],ne(n),o(p).removeClass(n.asStripeClasses.join(" ")),o("th, td",c).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),d.children().detach(),d.append(p);var v=n.nTableWrapper.parentNode,g=t?"remove":"detach";h[g](),f[g](),!t&&v&&(v.insertBefore(s,n.nTableReinsertBefore),h.css("width",n.sDestroyWidth).removeClass(i.sTable),(r=n.asDestroyStripes.length)&&d.children().each((function(t){o(this).addClass(n.asDestroyStripes[t%r])})));var b=o.inArray(n,a.settings);-1!==b&&a.settings.splice(b,1)}))})),o.each(["column","row","cell"],(function(t,e){n(e+"s().every()",(function(t){var n=this.selector.opts,r=this;return this.iterator(e,(function(i,s,o,a,l){t.call(r[e](s,"cell"===e?o:n,"cell"===e?n:void 0),s,o,a,l)}))}))})),n("i18n()",(function(t,e,n){var r=this.context[0],i=Q(t)(r.oLanguage);return void 0===i&&(i=e),void 0!==n&&o.isPlainObject(i)&&(i=void 0!==i[n]?i[n]:i._),"string"==typeof i?i.replace("%d",n):i})),a.version="1.13.7",a.settings=[],a.models={},a.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},a.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},a.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},a.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:o.extend({},a.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},k(a.defaults),a.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},k(a.defaults.column),a.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ge(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ge(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,r=this.aiDisplay.length,i=this.oFeatures,s=i.bPaginate;return i.bServerSide?!1===s||-1===t?e+r:Math.min(e+t,this._iRecordsDisplay):!s||n>r||-1===t?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},a.ext=t={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:a.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:a.version},o.extend(t,{afnFiltering:t.search,aTypes:t.type.detect,ofnSearch:t.type.search,oSort:t.type.order,afnSortData:t.order,aoFeatures:t.feature,oApi:t.internal,oStdClasses:t.classes,oPagination:t.pager}),o.extend(a.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Oe=a.ext.pager;function je(t,e){var n=[],r=Oe.numbers_length,i=Math.floor(r/2);return e<=r?n=w(0,e):t<=i?((n=w(0,r-2)).push("ellipsis"),n.push(e-1)):t>=e-1-i?((n=w(e-(r-2),e)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=w(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}o.extend(Oe,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[je(t,e)]},simple_numbers:function(t,e){return["previous",je(t,e),"next"]},full_numbers:function(t,e){return["first","previous",je(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",je(t,e),"last"]},_numbers:je,numbers_length:7}),o.extend(!0,a.ext.renderer,{pageButton:{_:function(t,e,n,r,i,s){var a,l,c,u=t.oClasses,h=t.oLanguage.oPaginate,d=t.oLanguage.oAria.paginate||{},f=function(e,r){var c,p,v,g=u.sPageButtonDisabled,b=function(e){Ht(t,e.data.action,!0)};for(c=0,p=r.length;c<p;c++)if(v=r[c],Array.isArray(v)){var m=o("<"+(v.DT_el||"div")+"/>").appendTo(e);f(m,v)}else{var y=!1;switch(a=null,l=v,v){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":a=h.sFirst,0===i&&(y=!0);break;case"previous":a=h.sPrevious,0===i&&(y=!0);break;case"next":a=h.sNext,0!==s&&i!==s-1||(y=!0);break;case"last":a=h.sLast,0!==s&&i!==s-1||(y=!0);break;default:a=t.fnFormatNumber(v+1),l=i===v?u.sPageButtonActive:""}if(null!==a){var S=t.oInit.pagingTag||"a";y&&(l+=" "+g),he(o("<"+S+">",{class:u.sPageButton+" "+l,"aria-controls":t.sTableId,"aria-disabled":y?"true":null,"aria-label":d[v],role:"link","aria-current":l===u.sPageButtonActive?"page":null,"data-dt-idx":v,tabindex:y?-1:t.iTabIndex,id:0===n&&"string"==typeof v?t.sTableId+"_"+v:null}).html(a).appendTo(e),{action:v},b)}}};try{c=o(e).find(document.activeElement).data("dt-idx")}catch(t){}f(o(e).empty(),r),void 0!==c&&o(e).find("[data-dt-idx="+c+"]").trigger("focus")}}}),o.extend(a.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return b(t,n)?"num"+n:null},function(t,e){if(t&&!(t instanceof Date)&&!h.test(t))return null;var n=Date.parse(t);return null!==n&&!isNaN(n)||p(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return b(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return m(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return m(t,n,!0)?"html-num-fmt"+n:null},function(t,e){return p(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),o.extend(a.ext.type.search,{html:function(t){return p(t)?t:"string"==typeof t?t.replace(c," ").replace(u,""):""},string:function(t){return p(t)?t:"string"==typeof t?t.replace(c," "):t}});var Ee=function(t,e,n,r){if(0!==t&&(!t||"-"===t))return-1/0;var i=typeof t;return"number"===i||"bigint"===i?t:(e&&(t=g(t,e)),t.replace&&(n&&(t=t.replace(n,"")),r&&(t=t.replace(r,""))),1*t)};function Fe(e){o.each({num:function(t){return Ee(t,e)},"num-fmt":function(t){return Ee(t,e,f)},"html-num":function(t){return Ee(t,e,u)},"html-num-fmt":function(t){return Ee(t,e,u,f)}},(function(n,r){t.type.order[n+e+"-pre"]=r,n.match(/^html\-/)&&(t.type.search[n+e]=t.type.search.html)}))}o.extend(t.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return p(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return p(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Fe(""),o.extend(!0,a.ext.renderer,{header:{_:function(t,e,n,r){o(t.nTable).on("order.dt.DT",(function(i,s,o,a){if(t===s){var l=n.idx;e.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass)}}))},jqueryui:function(t,e,n,r){o("<div/>").addClass(r.sSortJUIWrapper).append(e.contents()).append(o("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(e),o(t.nTable).on("order.dt.DT",(function(i,s,o,a){if(t===s){var l=n.idx;e.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass),e.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[l]?r.sSortJUIAsc:"desc"==a[l]?r.sSortJUIDesc:n.sSortingClassJUI)}}))}}});var Ne=function(t){return Array.isArray(t)&&(t=t.join(",")),"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function He(t,e,n,r,i){return window.moment?t[e](i):window.luxon?t[n](i):r?t[r](i):t}var Me=!1;function Ue(t,e,n){var r;if(window.moment){if(!(r=window.moment.utc(t,e,n,!0)).isValid())return null}else if(window.luxon){if(!(r=e&&"string"==typeof t?window.luxon.DateTime.fromFormat(t,e):window.luxon.DateTime.fromISO(t)).isValid)return null;r.setLocale(n)}else e?(Me||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),Me=!0):r=new Date(t);return r}function Be(t){return function(e,n,r,i){0===arguments.length?(r="en",n=null,e=null):1===arguments.length?(r="en",n=e,e=null):2===arguments.length&&(r=n,n=e,e=null);var s="datetime-"+n;return a.ext.type.order[s]||(a.ext.type.detect.unshift((function(t){return t===s&&s})),a.ext.type.order[s+"-asc"]=function(t,e){var n=t.valueOf(),r=e.valueOf();return n===r?0:n<r?-1:1},a.ext.type.order[s+"-desc"]=function(t,e){var n=t.valueOf(),r=e.valueOf();return n===r?0:n>r?-1:1}),function(o,a){if(null==o)if("--now"===i){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if("type"===a)return s;if(""===o)return"sort"!==a?"":Ue("0000-01-01 00:00:00",null,r);if(null!==n&&e===n&&"sort"!==a&&"type"!==a&&!(o instanceof Date))return o;var c=Ue(o,e,r);if(null===c)return o;if("sort"===a)return c;var u=null===n?He(c,"toDate","toJSDate","")[t]():He(c,"format","toFormat","toISOString",n);return"display"===a?Ne(u):u}}}var qe=",",We=".";if(void 0!==window.Intl)try{for(var ze=(new Intl.NumberFormat).formatToParts(100000.1),Xe=0;Xe<ze.length;Xe++)"group"===ze[Xe].type?qe=ze[Xe].value:"decimal"===ze[Xe].type&&(We=ze[Xe].value)}catch(t){}function Je(t){return function(){var e=[ae(this[a.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return a.ext.internal[t].apply(this,e)}}a.datetime=function(t,e){var n="datetime-detect-"+t;e||(e="en"),a.ext.type.order[n]||(a.ext.type.detect.unshift((function(r){var i=Ue(r,t,e);return!(""!==r&&!i)&&n})),a.ext.type.order[n+"-pre"]=function(n){return Ue(n,t,e)||0})},a.render={date:Be("toLocaleDateString"),datetime:Be("toLocaleString"),time:Be("toLocaleTimeString"),number:function(t,e,n,r,i){return null==t&&(t=qe),null==e&&(e=We),{display:function(s){if("number"!=typeof s&&"string"!=typeof s)return s;if(""===s||null===s)return s;var o=s<0?"-":"",a=parseFloat(s);if(isNaN(a))return Ne(s);a=a.toFixed(n),s=Math.abs(a);var l=parseInt(s,10),c=n?e+(s-l).toFixed(n).substring(2):"";return 0===l&&0===parseFloat(c)&&(o=""),o+(r||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(i||"")}}},text:function(){return{display:Ne,filter:Ne}}},o.extend(a.ext.internal,{_fnExternApiFunc:Je,_fnBuildAjax:ft,_fnAjaxUpdate:pt,_fnAjaxParameters:vt,_fnAjaxUpdateDraw:gt,_fnAjaxDataSrc:bt,_fnAddColumn:E,_fnColumnOptions:F,_fnAdjustColumnSizing:N,_fnVisibleToColumnIndex:H,_fnColumnIndexToVisible:M,_fnVisbleColumns:U,_fnGetColumns:B,_fnColumnTypes:q,_fnApplyColumnDefs:W,_fnHungarianMap:k,_fnCamelToHungarian:A,_fnLanguageCompat:P,_fnBrowserDetect:O,_fnAddData:z,_fnAddTr:X,_fnNodeToDataIndex:function(t,e){return void 0!==e._DT_RowIndex?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return o.inArray(n,t.aoData[e].anCells)},_fnGetCellData:J,_fnSetCellData:V,_fnSplitObjNotation:Y,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:Z,_fnGetDataMaster:K,_fnClearTable:tt,_fnDeleteIndex:et,_fnInvalidate:nt,_fnGetRowElements:rt,_fnCreateTr:it,_fnBuildHead:ot,_fnDrawHead:at,_fnDraw:lt,_fnReDraw:ct,_fnAddOptionsHtml:ut,_fnDetectHeader:ht,_fnGetUniqueThs:dt,_fnFeatureHtmlFilter:mt,_fnFilterComplete:yt,_fnFilterCustom:St,_fnFilterColumn:wt,_fnFilter:_t,_fnFilterCreateSearch:Ct,_fnEscapeRegex:Tt,_fnFilterData:kt,_fnFeatureHtmlInfo:It,_fnUpdateInfo:Lt,_fnInfoMacros:Rt,_fnInitialise:Ot,_fnInitComplete:jt,_fnLengthChange:Et,_fnFeatureHtmlLength:Ft,_fnFeatureHtmlPaginate:Nt,_fnPageChange:Ht,_fnFeatureHtmlProcessing:Mt,_fnProcessingDisplay:Ut,_fnFeatureHtmlTable:Bt,_fnScrollDraw:qt,_fnApplyToChildren:Wt,_fnCalculateColumnWidths:Xt,_fnThrottle:Jt,_fnConvertToWidth:Vt,_fnGetWidestNode:$t,_fnGetMaxLenString:Gt,_fnStringToCss:Yt,_fnSortFlatten:Qt,_fnSort:Zt,_fnSortAria:Kt,_fnSortListener:te,_fnSortAttachListener:ee,_fnSortingClasses:ne,_fnSortData:re,_fnSaveState:ie,_fnLoadState:se,_fnImplementState:oe,_fnSettingsFromNode:ae,_fnLog:le,_fnMap:ce,_fnBindAction:he,_fnCallbackReg:de,_fnCallbackFire:fe,_fnLengthOverflow:pe,_fnRenderer:ve,_fnDataSource:ge,_fnRowAttributes:st,_fnExtend:ue,_fnCalculateEnd:function(){}}),o.fn.dataTable=a,a.$=o,o.fn.dataTableSettings=a.settings,o.fn.dataTableExt=a.ext,o.fn.DataTable=function(t){return o(this).dataTable(t).api()},o.each(a,(function(t,e){o.fn.DataTable[t]=e}));function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function $e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e,n){return e&&Ge(t.prototype,e),n&&Ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qe(){return Qe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}function Ze(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}function tn(t,e){return tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tn(t,e)}function en(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ke(t);if(e){var i=Ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}var rn=function(){function t(){$e(this,t)}return Ye(t,[{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,e){return this.stopListening(".client-"+t,e)}}]),t}(),sn=function(){function t(e){$e(this,t),this.namespace=e}return Ye(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),on=function(t){Ze(n,t);var e=nn(n);function n(t,r,i){var s;return $e(this,n),(s=e.call(this)).name=r,s.pusher=t,s.options=i,s.eventFormatter=new sn(s.options.namespace),s.subscribe(),s}return Ye(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"listenToAll",value:function(t){var e=this;return this.subscription.bind_global((function(n,r){if(!n.startsWith("pusher:")){var i=e.options.namespace.replace(/\./g,"\\"),s=n.startsWith(i)?n.substring(i.length+1):"."+n;t(s,r)}})),this}},{key:"stopListening",value:function(t,e){return e?this.subscription.unbind(this.eventFormatter.format(t),e):this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"stopListeningToAll",value:function(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(t){return this.on("pusher:subscription_succeeded",(function(){t()})),this}},{key:"error",value:function(t){return this.on("pusher:subscription_error",(function(e){t(e)})),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),n}(rn),an=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(on),ln=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}}]),n}(on),cn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",(function(e){t(Object.keys(e.members).map((function(t){return e.members[t]})))})),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",(function(e){t(e.info)})),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),e),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",(function(e){t(e.info)})),this}}]),n}(on),un=function(t){Ze(n,t);var e=nn(n);function n(t,r,i){var s;return $e(this,n),(s=e.call(this)).events={},s.listeners={},s.name=r,s.socket=t,s.options=i,s.eventFormatter=new sn(s.options.namespace),s.subscribe(),s}return Ye(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t,e){return this.unbindEvent(this.eventFormatter.format(t),e),this}},{key:"subscribed",value:function(t){return this.on("connect",(function(e){t(e)})),this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=function(e,r){n.name===e&&n.listeners[t]&&n.listeners[t].forEach((function(t){return t(r)}))},this.socket.on(t,this.events[t])),this.listeners[t].push(e),this}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach((function(e){t.unbindEvent(e)}))}},{key:"unbindEvent",value:function(t,e){this.listeners[t]=this.listeners[t]||[],e&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))),e&&0!==this.listeners[t].length||(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}]),n}(rn),hn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:e}),this}}]),n}(un),dn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"here",value:function(t){return this.on("presence:subscribed",(function(e){t(e.map((function(t){return t.user_info})))})),this}},{key:"joining",value:function(t){return this.on("presence:joining",(function(e){return t(e.user_info)})),this}},{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:e}),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",(function(e){return t(e.user_info)})),this}}]),n}(hn),fn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,e){return this}},{key:"listenToAll",value:function(t){return this}},{key:"stopListening",value:function(t,e){return this}},{key:"subscribed",value:function(t){return this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,e){return this}}]),n}(rn),pn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"whisper",value:function(t,e){return this}}]),n}(fn),vn=function(t){Ze(n,t);var e=nn(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ye(n,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"whisper",value:function(t,e){return this}},{key:"leaving",value:function(t){return this}}]),n}(fn),gn=function(){function t(e){$e(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return Ye(t,[{key:"setOptions",value:function(t){this.options=Qe(this._defaultOptions,t);var e=this.csrfToken();return e&&(this.options.auth.headers["X-CSRF-TOKEN"]=e,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=e),(e=this.options.bearerToken)&&(this.options.auth.headers.Authorization="Bearer "+e,this.options.userAuthentication.headers.Authorization="Bearer "+e),t}},{key:"csrfToken",value:function(){var t;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),bn=function(t){Ze(n,t);var e=nn(n);function n(){var t;return $e(this,n),(t=e.apply(this,arguments)).channels={},t}return Ye(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new on(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new an(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"encryptedPrivateChannel",value:function(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new ln(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new cn(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach((function(t,n){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(gn),mn=function(t){Ze(n,t);var e=nn(n);function n(){var t;return $e(this,n),(t=e.apply(this,arguments)).channels={},t}return Ye(n,[{key:"connect",value:function(){var t=this,e=this.getSocketIO();return this.socket=e(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(t.channels).forEach((function(t){t.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new un(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new hn(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new dn(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach((function(t){e.leaveChannel(t)}))}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(gn),yn=function(t){Ze(n,t);var e=nn(n);function n(){var t;return $e(this,n),(t=e.apply(this,arguments)).channels={},t}return Ye(n,[{key:"connect",value:function(){}},{key:"listen",value:function(t,e,n){return new fn}},{key:"channel",value:function(t){return new fn}},{key:"privateChannel",value:function(t){return new pn}},{key:"encryptedPrivateChannel",value:function(t){return new pn}},{key:"presenceChannel",value:function(t){return new vn}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(gn),Sn=function(){function t(e){$e(this,t),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Ye(t,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new bn(this.options):"socket.io"==this.options.broadcaster?this.connector=new mn(this.options):"null"==this.options.broadcaster?this.connector=new yn(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"leaveAllChannels",value:function(){for(var t in this.connector.channels)this.leaveChannel(t)}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"object"===("undefined"==typeof Turbo?"undefined":Ve(Turbo))&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push((function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use((function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e}))}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(e,n,r){t.socketId()&&r.setRequestHeader("X-Socket-Id",t.socketId())}))}},{key:"registerTurboRequestInterceptor",value:function(){var t=this;document.addEventListener("turbo:before-fetch-request",(function(e){e.detail.fetchOptions.headers["X-Socket-Id"]=t.socketId()}))}}]),t}(),wn=r(86606),_n=r.n(wn);window.Pusher=_n(),window.Echo=new Sn({broadcaster:"pusher",key:(void 0).VITE_PUSHER_APP_KEY,cluster:(void 0).VITE_PUSHER_APP_CLUSTER,forceTLS:!0})}(),i}()}));